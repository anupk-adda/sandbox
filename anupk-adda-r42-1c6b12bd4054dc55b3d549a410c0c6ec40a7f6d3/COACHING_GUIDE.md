# Running Coach Agent - Design & Coaching Perspectives

## Overview
This agent extracts the last 10 running activities (or sufficient data from the past month) and provides professional coaching insights based on proven training principles.

## Key Metrics Analyzed

### 1. **Volume & Consistency**
- Total distance and duration
- Running frequency (runs per week)
- Week-over-week volume changes

**Coaching Perspective:**
- Consistency is more important than intensity for most runners
- Ideal frequency: 3-5 runs per week for recreational runners
- The "10% rule": increase weekly volume by no more than 10%
- Look for sudden spikes that increase injury risk

### 2. **Pace & Intensity Distribution**

**Metrics:**
- Average pace per run
- Pace variability across runs
- Estimated effort zones based on heart rate

**Coaching Perspective (80/20 Rule):**
- 80% of runs should be at easy, conversational pace (Zone 2, ~70-75% max HR)
- 20% can be at moderate to hard efforts (tempo, intervals, threshold)
- Most runners make the mistake of running their easy runs too hard
- A seasoned coach looks for:
  - Are most runs at similar moderate-hard pace? (RED FLAG)
  - Is there variety: easy days, hard days, recovery runs?
  - Are easy runs actually easy enough for recovery?

### 3. **Heart Rate Analysis**

**Key Zones:**
- Zone 1: Recovery (50-60% max HR)
- Zone 2: Aerobic base (60-70% max HR) - WHERE MOST TRAINING HAPPENS
- Zone 3: Tempo (70-80% max HR)
- Zone 4: Threshold (80-90% max HR)
- Zone 5: VO2 Max (90-100% max HR)

**Coaching Perspective:**
- Consistently high average HR across all runs = overtraining risk
- Low HR variability = lack of training variety
- Heart rate drift during a run = hydration, heat, or fatigue
- Compare HR at same pace over time = fitness improvement indicator

### 4. **Running Form Metrics**

**Cadence (steps per minute):**
- Ideal range: 170-180 spm for most runners
- Below 160: potential overstriding, higher impact
- Above 185: may indicate inefficient "shuffling"

**Vertical Oscillation (bounce):**
- Good: 6-8 cm
- Acceptable: 8-10 cm
- High: >10 cm (wasting energy going up-down vs forward)

**Ground Contact Time:**
- Good: <250 ms
- Average: 250-280 ms
- High: >280 ms (potential for improving running economy)

**Stride Length:**
- Should naturally increase with pace
- Artificially long strides = overstriding = injury risk
- Balance between cadence and stride length

**Coaching Perspective:**
- Form metrics matter more for injury prevention than performance
- High vertical oscillation = "bouncy" running = inefficient
- Long ground contact time = slow force application
- These improve naturally with consistent running and strength training

### 5. **Training Load & Recovery**

**Training Effect (Garmin-specific):**
- 0.0-0.9: No benefit
- 1.0-1.9: Minor benefit
- 2.0-2.9: Maintaining fitness
- 3.0-3.9: Improving fitness
- 4.0-5.0: Highly improving (but also highly stressful)

**Training Load (TRIMP/TSS-like metric):**
- Measures cumulative stress on the body
- Watch for acute:chronic workload ratio
- Sudden spikes = injury risk

**Coaching Perspective:**
- Not every run needs to "improve" fitness (TE 3.0+)
- Recovery runs should show TE 1.0-2.0
- Hard workouts should show TE 3.0-4.0
- TE consistently >4.0 = overtraining risk
- Monitor 7-day training load vs 28-day average
- A good coach ensures adequate recovery between hard efforts

## What a Seasoned Coach Looks For

### üîç Pattern Recognition

1. **The "Gray Zone" Trap**
   - Symptom: All runs at 75-85% max HR
   - Problem: Too hard to recover, too easy to improve
   - Fix: Slow down easy runs, go harder on hard days

2. **The Weekend Warrior**
   - Symptom: 1-2 long/hard runs per week, nothing else
   - Problem: High injury risk, poor adaptation
   - Fix: Add shorter, easier runs mid-week

3. **The Chronic Racer**
   - Symptom: Every run at race pace or faster
   - Problem: Burnout, plateau, overuse injuries
   - Fix: Periodization, structured training plan

4. **The Improvement Trajectory**
   - Good signs:
     - Same pace at lower heart rate (fitness improving)
     - Consistent volume with strategic intensity
     - Improving form metrics over time
     - Adequate recovery between hard efforts

5. **Red Flags**
   - Declining pace despite consistent effort
   - Rising resting heart rate
   - Decreasing HRV (if tracked)
   - Persistent fatigue or elevated training load
   - Form breakdown (declining cadence, increasing GCT)

### üìä Progressive Overload vs Overtraining

A good coach balances:
- **Progressive Overload**: Gradually increasing stress to trigger adaptation
- **Recovery**: Allowing adaptations to occur
- **Variation**: Different stimuli (long runs, tempo, intervals, easy runs)

**Warning Signs:**
- >3 consecutive weeks of increasing load without recovery week
- Sudden 20%+ increase in weekly volume
- Multiple high-intensity sessions within 48 hours
- Persistent high HR for same perceived effort

### üí° Coaching Recommendations Structure

1. **Immediate Concerns** (if any)
   - Overtraining indicators
   - Injury risk factors
   - Recovery needs

2. **Training Balance**
   - Current intensity distribution
   - Recommended changes to 80/20 split
   - Need for more variety

3. **Specific Workout Prescriptions**
   - Easy run: pace, duration, frequency
   - Long run: distance, pace
   - Quality workout: tempo/intervals/fartlek
   - Recovery protocols

4. **Form Improvements**
   - Drills to address form weaknesses
   - Strength training recommendations
   - Mobility work

5. **Progression Plan**
   - How to safely increase volume
   - When to add intensity
   - Periodization suggestions (base ‚Üí build ‚Üí peak ‚Üí recovery)

## Sample Coaching Dialogue

**Runner's Last 10 Activities Show:**
- 8/10 runs at 82-88% max HR
- Pace variability: very low (all 5:30-5:50/km)
- Running 5 days/week, 5-6km per run
- Cadence: 168 spm (good)
- Vertical oscillation: 10.5 cm (high)

**Coach's Response:**

"I see you're very consistent with your running - 5 days a week is excellent! However, I'm noticing a concerning pattern:

üî¥ **Immediate Concern**: You're running too hard on your easy days. 80%+ of your runs are at 82-88% max HR - that's tempo effort! Your body isn't getting the recovery it needs.

**The Fix:**
1. Slow down 3-4 runs per week by 45-60 seconds per km. Yes, it will feel uncomfortably slow at first. You should be able to hold a conversation.
2. Keep 1-2 runs per week at your current pace as your 'quality' sessions.
3. This will actually make you faster over time - counterintuitive but proven!

üéØ **Your New Weekly Structure:**
- 3 Easy Runs: 5km at 6:20-6:40/km (conversational)
- 1 Tempo Run: 4-5km at 5:30/km (comfortably hard)
- 1 Long Run: 8km at 6:15/km (easy pace)

üìà **Form Work:**
Your vertical oscillation is a bit high. Try these drills 2x/week:
- High knees: 2x20 meters
- Butt kicks: 2x20 meters
- Focus on 'quiet' running - listen to your footfalls

Keep the consistency - that's your superpower! But let's channel it smarter."

## Technical Implementation Notes

### Data Collection
```python
# For each of last 10 running activities, collect:
{
    'date': datetime,
    'distance': float,  # km
    'duration': float,  # minutes
    'avg_pace': float,  # min/km
    'avg_hr': int,  # bpm
    'max_hr': int,  # bpm
    'avg_cadence': float,  # spm
    'stride_length': float,  # cm
    'vertical_oscillation': float,  # cm
    'ground_contact_time': float,  # ms
    'training_effect': float,  # 0-5
    'training_load': float,  # TRIMP
    'elevation_gain': float  # meters
}
```

### Analysis Pipeline
1. Calculate summary statistics (means, trends)
2. Detect patterns (consistency, variety, progression)
3. Identify concerns (overtraining, poor distribution)
4. Generate insights (what the data means)
5. Provide recommendations (specific, actionable advice)

### Output Format
- Summary stats (volume, averages, trends)
- Visual indicators (‚úÖ ‚ö†Ô∏è üî¥ üí°)
- Coaching insights with explanations
- Specific workout prescriptions
- Progressive plan for next 2-4 weeks
