PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE users (
    id TEXT PRIMARY KEY,
    email TEXT UNIQUE NOT NULL,
    garmin_user_id TEXT UNIQUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    preferences TEXT DEFAULT '{}'
, password_hash TEXT);
INSERT INTO users VALUES('e0c74187-a64a-4b79-9d1c-4f7e19040392','testuser',NULL,'2026-02-19 16:05:02','2026-02-19 16:05:02','{}',NULL);
INSERT INTO users VALUES('2548431b-242e-42a6-9c44-38f1798b56ad','anup','anup.kumar.gupta@gmail.com','2026-02-19 16:15:14','2026-02-20 03:03:42','{}','$2b$10$1Vv1zuBeNRi59rzxQbDcNu6aEi7jC00ABCi8EzhZ6MLfhZiunglEy');
INSERT INTO users VALUES('anup','anup@local',NULL,'2026-02-19 16:37:20','2026-02-20 03:08:29','{"plan_subscription":true}',NULL);
CREATE TABLE run_activities (
    id TEXT PRIMARY KEY,
    user_id TEXT NOT NULL,
    garmin_activity_id TEXT UNIQUE NOT NULL,
    activity_date TIMESTAMP NOT NULL,
    distance_meters REAL,
    duration_seconds INTEGER,
    avg_pace_min_per_km REAL,
    avg_heart_rate INTEGER,
    max_heart_rate INTEGER,
    avg_cadence INTEGER,
    avg_power REAL,
    elevation_gain_meters REAL,
    run_type TEXT,
    raw_data TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
CREATE TABLE fitness_metric_snapshots (
    id TEXT PRIMARY KEY,
    user_id TEXT NOT NULL,
    snapshot_date TIMESTAMP NOT NULL,
    vo2_max REAL,
    training_load REAL,
    recovery_time_hours INTEGER,
    fitness_age INTEGER,
    raw_metrics TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
CREATE TABLE analysis_reports (
    id TEXT PRIMARY KEY,
    user_id TEXT NOT NULL,
    report_type TEXT NOT NULL,
    activity_id TEXT,
    analysis_date TIMESTAMP NOT NULL,
    agent_outputs TEXT NOT NULL,
    coaching_narrative TEXT,
    key_insights TEXT,
    version TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (activity_id) REFERENCES run_activities(id) ON DELETE SET NULL
);
CREATE TABLE training_plans (
    id TEXT PRIMARY KEY,
    user_id TEXT NOT NULL,
    plan_type TEXT NOT NULL,
    goal_distance TEXT NOT NULL,
    goal_date DATE,
    start_date DATE NOT NULL,
    end_date DATE NOT NULL,
    phases TEXT NOT NULL,
    weekly_structure TEXT NOT NULL,
    safety_constraints TEXT NOT NULL,
    status TEXT DEFAULT 'active',
    version TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, current_phase TEXT, weekly_focus TEXT, days_per_week INTEGER,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
INSERT INTO training_plans VALUES('ab199399-27fe-4527-8e4e-3efd8cdcff90','anup','assistant-first','half','2026-05-05','2026-02-19','2026-05-05','{"current_phase":"base"}','{"weekly_focus":"Incorporate easy runs for recovery","personalization_reason":"You have been running consistently but need more easy runs to balance intensity and recovery."}','{"max_weekly_change_pct":10,"max_intensity_change":1}','inactive','v1','2026-02-19 16:37:20','2026-02-20 03:08:20','base','Incorporate easy runs for recovery',3);
INSERT INTO training_plans VALUES('74814d5b-75e2-4de2-a835-f0531006fae9','anup','assistant-first','half','2026-05-05','2026-02-20','2026-05-05','{"current_phase":"base"}','{"weekly_focus":"Incorporate easy runs for recovery","personalization_reason":"You have a solid base but need to balance intensity with more easy runs to avoid overtraining."}','{"max_weekly_change_pct":10,"max_intensity_change":1}','active','v1','2026-02-20 03:08:20','2026-02-20 03:08:20','base','Incorporate easy runs for recovery',3);
CREATE TABLE agent_execution_logs (
    id TEXT PRIMARY KEY,
    report_id TEXT,
    agent_name TEXT NOT NULL,
    execution_start TIMESTAMP NOT NULL,
    execution_end TIMESTAMP,
    status TEXT NOT NULL,
    input_data TEXT,
    output_data TEXT,
    error_message TEXT,
    prompt_version TEXT,
    model_version TEXT,
    token_usage TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (report_id) REFERENCES analysis_reports(id) ON DELETE CASCADE
);
CREATE TABLE conversations (
    id TEXT PRIMARY KEY,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    last_message_at TIMESTAMP,
    last_intent TEXT,
    last_agent TEXT
, last_lat REAL, last_lon REAL, user_id TEXT);
INSERT INTO conversations VALUES('849d9e10-8924-4490-a817-559fe4ebf2b0','2026-02-19 16:15:39','2026-02-19 16:15:49','2026-02-19 16:15:49','weather','WeatherAgent',1.340321047620535388,103.956282933412922,'anup');
INSERT INTO conversations VALUES('baef7ec5-0fac-4add-aeb2-e43ab99d095f','2026-02-19 16:27:28','2026-02-19 16:39:46','2026-02-19 16:39:46','weather','WeatherAgent',1.340237122611502185,103.9561078868013623,'anup');
INSERT INTO conversations VALUES('aabc483f-f1a8-4fb5-9647-d828f8e99487','2026-02-19 16:31:23','2026-02-19 16:32:28','2026-02-19 16:32:28','last_run','Agent 1 - Current Run Analyzer',1.340000000000000079,103.9500000000000028,'anup');
INSERT INTO conversations VALUES('5daac00a-ea24-4ec7-b2f9-3fc7dd762fcf','2026-02-19 16:34:14','2026-02-19 16:35:10','2026-02-19 16:35:10','last_run','Agent 1 - Current Run Analyzer',1.340000000000000079,103.9500000000000028,'anup');
INSERT INTO conversations VALUES('57edee2e-dc24-435d-977a-ef2517bbd19b','2026-02-19 16:42:07','2026-02-19 16:42:10','2026-02-19 16:42:10','weather','WeatherAgent',1.340237486536007606,103.9560434485633209,'anup');
INSERT INTO conversations VALUES('c3aeb20e-6985-41af-9c0c-9184883bb727','2026-02-19 16:42:43','2026-02-19 16:45:49','2026-02-19 16:45:49','general','Coach Q&A Agent - Context Aware',1.340237480222162159,103.9560434267801697,'anup');
INSERT INTO conversations VALUES('2a83a911-8f3d-4fbb-9ace-195c20d4ef11','2026-02-19 17:08:07','2026-02-19 17:14:40','2026-02-19 17:14:40','weather','WeatherAgent',1.340416431074507698,103.9560394154431578,'anup');
INSERT INTO conversations VALUES('1d6b1dc6-d3b7-4d4e-a9a2-e773b908b5cf','2026-02-19 17:18:40','2026-02-19 17:18:44','2026-02-19 17:18:44','weather','WeatherAgent',1.340231120966586919,103.9560121116808488,'anup');
INSERT INTO conversations VALUES('941349cc-f2cd-4636-8cd7-70c59e4853d4','2026-02-19 17:21:44','2026-02-19 17:22:51','2026-02-19 17:22:51','last_run','Agent 1 - Current Run Analyzer',1.340192027843425171,103.9561988312122481,'anup');
INSERT INTO conversations VALUES('4fb172cb-b716-4821-980f-2e7f226d4192','2026-02-19 17:25:21','2026-02-19 17:35:37','2026-02-19 17:35:37','last_run','Agent 1 - Current Run Analyzer',1.340339416707878595,103.9561361165465599,'anup');
INSERT INTO conversations VALUES('f9c6a9d0-e134-4173-ba0f-46f2fc2e3c1f','2026-02-20 03:03:45','2026-02-20 03:08:29','2026-02-20 03:08:29','last_run','Agent 1 - Current Run Analyzer',1.279427301579465937,103.8538629767364369,'anup');
INSERT INTO conversations VALUES('97b1f355-f5c5-443e-b15d-b8326d789515','2026-02-20 03:24:21','2026-02-20 03:25:21','2026-02-20 03:25:21','last_run','Agent 1 - Current Run Analyzer',1.279514708651872778,103.8537809754107855,'anup');
CREATE TABLE conversation_messages (
    id TEXT PRIMARY KEY,
    conversation_id TEXT NOT NULL,
    role TEXT NOT NULL,
    content TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE
);
INSERT INTO conversation_messages VALUES('c30c50d3-634a-40e9-a263-dc4ba1a403f9','849d9e10-8924-4490-a817-559fe4ebf2b0','user','Running conditions near me','2026-02-19 16:15:39');
INSERT INTO conversation_messages VALUES('298cff46-b87a-47f2-a369-daaacecbec89','849d9e10-8924-4490-a817-559fe4ebf2b0','assistant','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','2026-02-19 16:15:42');
INSERT INTO conversation_messages VALUES('f4907d5d-9310-4a4c-ae66-cbf127e79007','849d9e10-8924-4490-a817-559fe4ebf2b0','user','Analyze my last run','2026-02-19 16:15:49');
INSERT INTO conversation_messages VALUES('c7787889-ada9-48f2-afbf-a17588a300d5','baef7ec5-0fac-4add-aeb2-e43ab99d095f','user','Analyze my last run','2026-02-19 16:27:28');
INSERT INTO conversation_messages VALUES('9b7126c4-1b23-405e-9246-0ba6b4620168','baef7ec5-0fac-4add-aeb2-e43ab99d095f','assistant',replace('## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing**: consistent pacing with slight variations, indicating good energy management as you progressed\n- Heart rate**: 145/175 bpm - appropriate for a moderate effort run, staying within a good range\n- Cadence: average of 167 spm shows good form and efficiency\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- good overall pacing**: maintained a solid average pace of 5:40/km throughout the run\n- **Te management**: average hr of 145 bpm indicates you were working in a productive zone for endurance\n- **Tent cadence**: average of 167 spm shows good form and efficiency\n- **Training effect****: 4.2 - indicates a highly productive workout that likely contributed to your endurance\n\n## üí° Coaching Points\n- Recovery day after this solid effort to allow your body to adapt and rebuild\n- Pacing: maintained a solid average pace of 5:40/km throughout the run\n- Pacing**: consistent pacing with slight variations, indicating good energy management as you progressed\n\n## üîß Recommendations\n- Consider incorporating some variety in your training, such as tempo runs or intervals, to build speed and strength\n- Recommendations\n- for future runs, aim to include some faster-paced segments to challenge your speed and improve your overall pace\n\n---\n**Bottom Line**: Good overall pacing: maintained a solid average pace of 5:40/km throughout the run üí™','\n',char(10)),'2026-02-19 16:28:29');
INSERT INTO conversation_messages VALUES('21b99cfb-8f48-4595-92a7-95cf696bc6e5','baef7ec5-0fac-4add-aeb2-e43ab99d095f','user','Running conditions near me','2026-02-19 16:29:40');
INSERT INTO conversation_messages VALUES('bb356aaa-9831-4d39-baa7-ded38ef941e1','baef7ec5-0fac-4add-aeb2-e43ab99d095f','assistant','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','2026-02-19 16:29:44');
INSERT INTO conversation_messages VALUES('1980429a-8e2d-49d7-a4dc-03d233aa61f1','baef7ec5-0fac-4add-aeb2-e43ab99d095f','user','Recommend my next run','2026-02-19 16:30:26');
INSERT INTO conversation_messages VALUES('0aa06311-ee4a-41e4-a67f-b538c8dd4b6c','baef7ec5-0fac-4add-aeb2-e43ab99d095f','assistant',replace('### üìä Recent Training Pattern\n- **Last 3 Runs**:\n  1. 8.01 km at 5:40 min/km (easy run)\n  2. 5.06 km at 4:54 min/km (tempo run)\n  3. 5.01 km at 5:37 min/km (easy run)\n- **Intensity Distribution**: The first run was an easy run, the second was a tempo run, and the third was another easy run. The tempo run was a higher intensity effort, while the easy runs were at a comfortable pace.\n- **Spacing**: There is a mix of easy and tempo runs, with the tempo run being the most intense and followed by easy runs, allowing for recovery.\n- **Signs of Fatigue**: No significant signs of fatigue noted, but the heart rates during the tempo run were elevated, indicating a good effort.\n\n### üí° Key Observations\n- **What''s Working Well**: The inclusion of a tempo run is beneficial for building speed and endurance. Easy runs are appropriately placed for recovery.\n- **Concerns or Patterns to Address**: Ensure that the intensity of the tempo run is sustainable and does not lead to overtraining.\n- **Missing Workout Types**: No VO2max intervals have been included in the recent runs, which could enhance speed and aerobic capacity.\n\n### üéØ Next Workout Recommendation\n**Workout Type**: VO2max Intervals  \n**Rationale**: Incorporating intervals will help improve speed and aerobic capacity, complementing the recent tempo and easy runs.  \n**Specific Workout**: 2 km warm-up, followed by 6 x 400m at 5K pace with 400m jog recovery, and a 1 km cool-down.  \n**Duration/Distance**: Approximately 60 minutes total, including warm-up and cool-down.  \n**Key Focus**: Emphasize maintaining a strong pace during the intervals while ensuring proper recovery between each effort.\n\n### ‚ö†Ô∏è Important Notes\n- Ensure adequate hydration and nutrition before and after the workout.\n- Monitor how you feel during the intervals; adjust pace if necessary to avoid overexertion.\n- Schedule the next hard session after at least 48 hours of recovery following this workout.','\n',char(10)),'2026-02-19 16:31:11');
INSERT INTO conversation_messages VALUES('ad3dee1d-f892-4291-ab45-7e1ac507b6d4','aabc483f-f1a8-4fb5-9647-d828f8e99487','user','Analyze my last run','2026-02-19 16:31:23');
INSERT INTO conversation_messages VALUES('efd45926-6cc8-4cdd-863c-151ca0ca70dc','baef7ec5-0fac-4add-aeb2-e43ab99d095f','user','Running conditions near me','2026-02-19 16:32:02');
INSERT INTO conversation_messages VALUES('07f34d95-5a7a-40f3-98f7-28fb9562038f','baef7ec5-0fac-4add-aeb2-e43ab99d095f','assistant','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','2026-02-19 16:32:07');
INSERT INTO conversation_messages VALUES('5b322409-d6dc-4d08-95fd-1546352beed2','aabc483f-f1a8-4fb5-9647-d828f8e99487','assistant',replace('## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing: maintained a consistent average pace of 5:40/km throughout the run\n- Pacing**: consistent pacing with no major fluctuations indicates good energy management\n- Cadence was decent at 167 spm, showing good leg turnover\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- good overall pacing**: maintained a consistent average pace of 5:40/km throughout the run\n- **Te management**: average hr of 145 bpm indicates a productive effort, with max hr reaching 175 bpm\n- **Training effect****: 4.2 - indicates a highly productive session, enhancing aerobic capacity\n- **Te****: 145/175 bpm - appropriate for a moderate effort, suggesting effective training\n\n## üí° Coaching Points\n- Weather warms up; staying hydrated can help maintain performance and prevent fatigue\n- Recovery run or cross-training session in the next 24-36 hours to allow your body to adapt to this training load\n- Pacing: maintained a consistent average pace of 5:40/km throughout the run\n\n## üîß Recommendations\n- Consider incorporating more varied paces in future runs to enhance speed and endurance\n- Recommendations\n- for your next run, try to include some intervals or tempo segments to challenge your speed and improve your anaerobic threshold\n\n---\n**Bottom Line**: Good overall pacing: maintained a consistent average pace of 5:40/km throughout the run üí™','\n',char(10)),'2026-02-19 16:32:28');
INSERT INTO conversation_messages VALUES('b4116213-6973-4abb-9680-8192199685f5','5daac00a-ea24-4ec7-b2f9-3fc7dd762fcf','user','Analyze my last run','2026-02-19 16:34:14');
INSERT INTO conversation_messages VALUES('b5aa61cd-b491-419a-be53-8b0c7799b56e','baef7ec5-0fac-4add-aeb2-e43ab99d095f','user','Analyze my running progress','2026-02-19 16:34:43');
INSERT INTO conversation_messages VALUES('9ab5cd7c-a82e-44bc-88cd-9daaf4fedb4f','baef7ec5-0fac-4add-aeb2-e43ab99d095f','assistant',replace('### üìä Running Progress Analysis\n\n#### Recent Training Pattern\n- **Last 3 Runs**:\n  1. **8.01 km at 5:40 min/km** (easy run)\n  2. **5.06 km at 4:54 min/km** (tempo run)\n  3. **5.01 km at 5:37 min/km** (easy run)\n\n#### Key Observations\n1. **Pacing**: \n   - Your easy runs are averaging around **5:40 min/km** to **5:37 min/km**, which indicates a good pace for recovery. The tempo run at **4:54 min/km** shows you are capable of maintaining a faster pace, reflecting improved speed and stamina.\n\n2. **Intensity Distribution**: \n   - You have a good balance between easy runs and more intense tempo efforts. This mix is important for developing endurance while allowing for recovery.\n\n3. **Training Volume & Consistency**:\n   - Over the last 10 runs, you''ve averaged **5.38 km per run**, with a total distance of **43.06 km**. This indicates you are maintaining a consistent running frequency of about 3-4 times per week, which is excellent for a beginner.\n\n4. **Cadence & Heart Rate**:\n   - Your average cadence of **167 spm** is solid, suggesting good running form and efficiency. Your heart rate during easy efforts (145 bpm) stays within an appropriate range, indicating you are not overexerting during these sessions.\n\n#### Recommendations for Next Run\nGiven the mixed running conditions and your current training pattern, consider the following for your next run:\n- **Duration/Distance**: Aim for another easy run of about **5-8 km** depending on the weather conditions. If it''s too challenging outside, keep it on the shorter side.\n- **Pace**: Maintain a comfortable pace around **5:40 - 6:00 min/km** to ensure recovery while still enjoying your run.\n- **Listen to Your Body**: Adjust your pace based on how you feel during the run, especially with the changing conditions.\n\n### Conclusion\nYou‚Äôre making good progress with your training, balancing intensity and recovery. Keep it up, and remember to adapt your runs based on how you feel and the weather conditions!\n\nConfidence: profile-based.','\n',char(10)),'2026-02-19 16:34:53');
INSERT INTO conversation_messages VALUES('d17f525c-0bab-48db-8f03-9ccbe7bfb8f7','5daac00a-ea24-4ec7-b2f9-3fc7dd762fcf','assistant',replace('## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing: consistent splits with a slight negative split towards the end (6:40 ‚Üí 5:44)\n- Pacing**: consistent pacing with a slight negative split demonstrates effective energy management\n- Heart rate management: average hr at 145 bpm indicates a controlled effort throughout\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- solid pacing**: consistent splits with a slight negative split towards the end (6:40 ‚Üí 5:44)\n- **Te management**: average hr at 145 bpm indicates a controlled effort throughout\n- **Training effect****: 4.2 - indicates a highly productive session that likely improved your aerobic capacity\n- **Te****: 145/175 bpm - appropriate for a moderate effort, aligning with your training goals\n\n## üí° Coaching Points\n- Weather conditions were warm, which can affect performance; your effort was commendable given the temperature\n- Fatigue or heat stress\n- Fatigue and potential injury\n\n## üîß Recommendations\n- Consider hydration strategies, as your hr peaked at 175 bpm towards the end, which could indicate fatigue or heat stress\n- Recommendations\n- on warmer days, aim to start your runs earlier or adjust your pace to stay within your target hr zones\n\n---\n**Bottom Line**: Good heart rate management: average hr at 145 bpm indicates a controlled effort throughout üí™','\n',char(10)),'2026-02-19 16:35:10');
INSERT INTO conversation_messages VALUES('c094880c-7488-49a4-a1cd-fe9d1c09a1f8','baef7ec5-0fac-4add-aeb2-e43ab99d095f','user','create a half marathon plan','2026-02-19 16:36:46');
INSERT INTO conversation_messages VALUES('f375d695-6ab1-4fc9-b715-9f7c1fa84225','baef7ec5-0fac-4add-aeb2-e43ab99d095f','assistant','Great. What is your target race date (YYYY-MM-DD), and days per week you can run?','2026-02-19 16:36:47');
INSERT INTO conversation_messages VALUES('4a934df5-e121-4311-9f57-c067d44735e4','baef7ec5-0fac-4add-aeb2-e43ab99d095f','user','2026-05-05 , 3 days a week','2026-02-19 16:37:10');
INSERT INTO conversation_messages VALUES('6e1280a3-3e45-40ba-91b1-a22783d92c53','baef7ec5-0fac-4add-aeb2-e43ab99d095f','assistant','Here‚Äôs your Half Marathon plan for 2026-05-05. Current phase: base. Focus this week: Incorporate easy runs for recovery. Next run: Easy Run (RPE 3-4)','2026-02-19 16:37:20');
INSERT INTO conversation_messages VALUES('d6f5cd02-037d-453e-a367-dc5b266b90d8','baef7ec5-0fac-4add-aeb2-e43ab99d095f','user','subscribe','2026-02-19 16:38:13');
INSERT INTO conversation_messages VALUES('0735e8c4-90a2-4fae-aeb2-54e5ba2d19fa','baef7ec5-0fac-4add-aeb2-e43ab99d095f','assistant','You‚Äôre all set. Tracking is enabled for your plan.','2026-02-19 16:38:13');
INSERT INTO conversation_messages VALUES('d46d6bc1-4f3c-41f4-80f1-951a01896d3c','baef7ec5-0fac-4add-aeb2-e43ab99d095f','user','show my progress','2026-02-19 16:38:39');
INSERT INTO conversation_messages VALUES('b427be9d-20eb-44bc-a245-1e70a3120b03','baef7ec5-0fac-4add-aeb2-e43ab99d095f','assistant',replace('### üìä Running Progress Analysis\n\n#### Recent Training Pattern\n- **Last 3 Runs**:\n  1. **8.01 km at 5:40 min/km** (easy run)\n  2. **5.06 km at 4:54 min/km** (tempo run)\n  3. **5.01 km at 5:37 min/km** (easy run)\n\n#### Key Observations\n1. **Pacing**: \n   - Your easy runs are averaging around **5:40 min/km to 5:37 min/km**, indicating an effective recovery pace. The tempo run at **4:54 min/km** suggests you have the capacity to sustain faster efforts, showcasing your improving speed and endurance.\n\n2. **Intensity Distribution**: \n   - You are maintaining a good balance between easy runs and tempo runs. This variety is crucial for building endurance while ensuring adequate recovery.\n\n3. **Training Volume & Consistency**:\n   - Over your last 10 runs, you''ve averaged **5.38 km per run**, which demonstrates consistency in your training volume. While you''re managing a good frequency of runs, the variability in distances indicates room for improvement in uniform training loads.\n\n#### Recommendations\n- **Continue to focus on easy runs** to promote recovery and build endurance. Aim to keep your easy run paces within the current range.\n- **Incorporate more tempo runs** gradually, ensuring you balance them with sufficient recovery days to avoid overtraining.\n\nOverall, your progress suggests you are on a positive trajectory. Keep up the good work!\n\nConfidence: profile-based.','\n',char(10)),'2026-02-19 16:38:47');
INSERT INTO conversation_messages VALUES('92ccfcff-43a3-4963-b931-a4106f305d5b','baef7ec5-0fac-4add-aeb2-e43ab99d095f','user','show my running plan','2026-02-19 16:38:54');
INSERT INTO conversation_messages VALUES('64d3c0ff-9482-417e-b753-8607fe294a27','baef7ec5-0fac-4add-aeb2-e43ab99d095f','assistant',replace('### üèÉ‚Äç‚ôÇÔ∏è Running Plan Overview\n\nBased on your recent training data and current proficiency level, here''s a suggested running plan to continue building your endurance and speed:\n\n#### Weekly Structure\n1. **Easy Runs**: 2 Days\n   - **Goal**: Recovery and aerobic base building.\n   - **Pace**: Aim for ~5:40 to 6:00 min/km.\n   - **Duration**: 30-45 minutes, targeting distances of 6-8 km.\n\n2. **Tempo Run**: 1 Day\n   - **Goal**: Improve lactate threshold and speed.\n   - **Pace**: Aim for 4:50 to 5:00 min/km.\n   - **Duration**: 20-30 minutes of tempo effort, with a proper warm-up and cool-down.\n\n3. **Long Run**: 1 Day\n   - **Goal**: Build endurance for longer distances.\n   - **Pace**: Comfortable, around 6:00 to 6:30 min/km.\n   - **Distance**: Start with 10-12 km and gradually increase.\n\n4. **Rest/Recovery Days**: 2 Days\n   - Focus on active recovery activities such as walking, yoga, or cross-training.\n\n#### Additional Considerations\n- **Progression**: Increase your long run distance by about 10% each week to safely build endurance.\n- **Variety**: Incorporate hill workouts or interval training once every few weeks to enhance strength and speed.\n- **Nutrition & Hydration**: Ensure you''re fueling adequately before and after runs, especially on long and tempo days.\n\nThis structured approach will help you maintain a balance of intensity and recovery, ultimately aiding your performance in upcoming races, whether they be half marathon or marathon distances.\n\nConfidence: profile-based.','\n',char(10)),'2026-02-19 16:39:05');
INSERT INTO conversation_messages VALUES('5780a420-c0d5-471a-abaf-6c9e0d819886','baef7ec5-0fac-4add-aeb2-e43ab99d095f','user','Running conditions near me','2026-02-19 16:39:43');
INSERT INTO conversation_messages VALUES('66698fd9-c32c-4c50-9e15-d18051f9566d','baef7ec5-0fac-4add-aeb2-e43ab99d095f','assistant','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','2026-02-19 16:39:46');
INSERT INTO conversation_messages VALUES('5ff3f601-46a4-4f50-ab15-ecaa2898dc88','57edee2e-dc24-435d-977a-ef2517bbd19b','user','Running conditions near me','2026-02-19 16:42:07');
INSERT INTO conversation_messages VALUES('ac67f858-1f82-4272-aabb-73a72b74e5bf','57edee2e-dc24-435d-977a-ef2517bbd19b','assistant','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','2026-02-19 16:42:10');
INSERT INTO conversation_messages VALUES('ade6395c-5262-4601-9af9-36995896e8ed','c3aeb20e-6985-41af-9c0c-9184883bb727','user','Running conditions near me','2026-02-19 16:42:43');
INSERT INTO conversation_messages VALUES('9dbc66b0-66e2-467b-8b61-604f1aacdee3','c3aeb20e-6985-41af-9c0c-9184883bb727','assistant','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','2026-02-19 16:42:47');
INSERT INTO conversation_messages VALUES('ef9f7647-2d74-441b-a43f-23a82c27fd68','c3aeb20e-6985-41af-9c0c-9184883bb727','user','Analyze my last run','2026-02-19 16:43:05');
INSERT INTO conversation_messages VALUES('41e7de72-1249-4ec2-a49c-dc3138d708c1','c3aeb20e-6985-41af-9c0c-9184883bb727','assistant',replace('## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing: maintained a consistent average pace of 5:40/km across the run\n- Pacing**: consistent pacing with only slight variations, demonstrating good energy management\n- Heart rate control: average hr of 145 bpm indicates a productive effort within the moderate range\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- solid pacing**: maintained a consistent average pace of 5:40/km across the run\n- **Te control**: average hr of 145 bpm indicates a productive effort within the moderate range\n- **Training effect****: 4.2 - indicates a highly productive aerobic session\n- **Te****: 145/175 bpm - appropriate for a moderate intensity run\n\n## üí° Coaching Points\n- Temperatures rise, to maintain performance and recovery\n- Zones for your training goals\n- Pacing: maintained a consistent average pace of 5:40/km across the run\n\n## üîß Recommendations\n- Consider incorporating more varied paces in your training to improve speed and strength, especially on your next few runs\n- Recommendations\n- for your next session, try to include some intervals or tempo segments to push your speed and improve your overall pace\n\n---\n**Bottom Line**: Solid pacing: maintained a consistent average pace of 5:40/km across the run üí™','\n',char(10)),'2026-02-19 16:44:02');
INSERT INTO conversation_messages VALUES('a460dd72-5e94-456e-8815-535f7d97039d','c3aeb20e-6985-41af-9c0c-9184883bb727','user','Running conditions near me','2026-02-19 16:45:07');
INSERT INTO conversation_messages VALUES('8fb45270-8ba6-4d58-acbc-2b922200597a','c3aeb20e-6985-41af-9c0c-9184883bb727','assistant','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','2026-02-19 16:45:10');
INSERT INTO conversation_messages VALUES('e774eee8-2e55-4ad1-8dcc-ab7096f304c1','c3aeb20e-6985-41af-9c0c-9184883bb727','user','what is Te control','2026-02-19 16:45:46');
INSERT INTO conversation_messages VALUES('dbfdd18d-a908-40ad-aa74-d0f2d4dc022c','c3aeb20e-6985-41af-9c0c-9184883bb727','assistant','I''m specialized in running coaching and training. I can help with running technique, training plans, race preparation, or recovery. What would you like to know about your running?','2026-02-19 16:45:49');
INSERT INTO conversation_messages VALUES('9545ced2-e0a1-4278-bf66-0fe8910147e3','2a83a911-8f3d-4fbb-9ace-195c20d4ef11','user','Running conditions near me','2026-02-19 17:08:07');
INSERT INTO conversation_messages VALUES('a2073031-d578-41e6-9952-b41c7ce0192d','2a83a911-8f3d-4fbb-9ace-195c20d4ef11','assistant','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','2026-02-19 17:08:10');
INSERT INTO conversation_messages VALUES('01580c48-c528-44d2-8414-d661d8bc0d57','2a83a911-8f3d-4fbb-9ace-195c20d4ef11','user','Analyze my last run','2026-02-19 17:09:10');
INSERT INTO conversation_messages VALUES('d9e8bfa1-feb1-4128-8e59-f4bb02a259f8','2a83a911-8f3d-4fbb-9ace-195c20d4ef11','assistant',replace('## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing strategy was commendable, especially with the negative split; this shows good energy management\n- Heart rate management: average hr of 145 bpm indicates a controlled effort for the distance\n- Heart rate**: 145/175 bpm - appropriate for a moderate effort, with a good balance throughout the run\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- good pacing consistency**: splits ranged from 6:40 to 5:26, with a slight negative split towards the end\n- **Te management**: average hr of 145 bpm indicates a controlled effort for the distance\n- **Training effect****: 4.2 - indicates a productive session that likely improved your aerobic capacity\n- **Te****: 145/175 bpm - appropriate for a moderate effort, with a good balance throughout the run\n\n## üí° Coaching Points\n- Weather conditions were warm, and you did well to manage your effort; hydration is key in such conditions\n- Recovery after this session, especially given the high training effect (4\n- Easy run or rest day before your next quality workout\n\n## üîß Recommendations\n- Recommendations\n- consider incorporating more interval training to improve your speed and further enhance your pacing strategies in future runs\n- Hydration is key in such conditions\n\n---\n**Bottom Line**: Solid heart rate management: average hr of 145 bpm indicates a controlled effort for the distance üí™','\n',char(10)),'2026-02-19 17:10:07');
INSERT INTO conversation_messages VALUES('9a687719-eecf-4042-93fc-f26b2bc2d660','2a83a911-8f3d-4fbb-9ace-195c20d4ef11','user','Running conditions near me','2026-02-19 17:14:36');
INSERT INTO conversation_messages VALUES('947eab04-10c7-4fbe-b720-e19385d04952','2a83a911-8f3d-4fbb-9ace-195c20d4ef11','assistant','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','2026-02-19 17:14:40');
INSERT INTO conversation_messages VALUES('b08bef1f-c906-4ec3-8758-37680b8a01fd','1d6b1dc6-d3b7-4d4e-a9a2-e773b908b5cf','user','Running conditions near me','2026-02-19 17:18:40');
INSERT INTO conversation_messages VALUES('e086adbe-05b7-4edd-ba15-a618337628f5','1d6b1dc6-d3b7-4d4e-a9a2-e773b908b5cf','assistant','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','2026-02-19 17:18:44');
INSERT INTO conversation_messages VALUES('c4497b65-1bc0-4c8f-9dd7-d415237d0617','941349cc-f2cd-4636-8cd7-70c59e4853d4','user','Running conditions near me','2026-02-19 17:21:44');
INSERT INTO conversation_messages VALUES('f552b65d-9c7c-452a-9cba-0e492e27ddb3','941349cc-f2cd-4636-8cd7-70c59e4853d4','assistant','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','2026-02-19 17:21:48');
INSERT INTO conversation_messages VALUES('57645ce4-b354-4325-92a2-c043a142f290','941349cc-f2cd-4636-8cd7-70c59e4853d4','user','Analyze my last run','2026-02-19 17:22:00');
INSERT INTO conversation_messages VALUES('a92130ed-8b3a-41ac-8f03-e6423184808c','941349cc-f2cd-4636-8cd7-70c59e4853d4','assistant',replace('## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing throughout: consistent splits with a slight negative split in the second half\n- Pacing**: consistent pacing with a slight negative split, showing good energy management\n- Heart rate control: average hr of 145 bpm indicates effective effort management\n\n## üéØ Key Metrics\n- **Te control**: average hr of 145 bpm indicates effective effort management\n- **Training effect****: 4.2 - indicates a productive workout that builds endurance\n- **Te****: 145/175 bpm - appropriate for a moderate effort run\n- **Heart rate control**: average hr of 145 bpm indicates effective effort management\n\n## üí° Coaching Points\n- Temperatures rise, to maintain performance levels\n- Pacing throughout: consistent splits with a slight negative split in the second half\n- Pacing**: consistent pacing with a slight negative split, showing good energy management\n\n## üîß Recommendations\n- Consider incorporating more varied terrain or intervals in future sessions to challenge your pacing and heart rate further\n- Recommendations\n- continue to focus on maintaining that cadence; if you can push it slightly higher during faster workouts, it may enhance your efficiency\n\n---\n**Bottom Line**: Good heart rate control: average hr of 145 bpm indicates effective effort management üí™','\n',char(10)),'2026-02-19 17:22:51');
INSERT INTO conversation_messages VALUES('4bfe3f01-358d-445d-bda0-ebab58d79bad','4fb172cb-b716-4821-980f-2e7f226d4192','user','Running conditions near me','2026-02-19 17:25:21');
INSERT INTO conversation_messages VALUES('8dfb16a1-080f-42fb-97ff-bdb076706a29','4fb172cb-b716-4821-980f-2e7f226d4192','assistant','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','2026-02-19 17:25:25');
INSERT INTO conversation_messages VALUES('568fe817-db40-487a-9caa-fa1015d713c4','4fb172cb-b716-4821-980f-2e7f226d4192','user','Recommend my next run','2026-02-19 17:34:04');
INSERT INTO conversation_messages VALUES('5d2070c4-7b39-4ad4-a538-61919274de08','4fb172cb-b716-4821-980f-2e7f226d4192','assistant',replace('Given your recent running history and the mixed conditions expected, I recommend the following for your next run:\n\n1. **Run Type**: Easy Run\n2. **Distance**: Aim for about 5 km. This aligns well with your average run distance and allows for a comfortable effort.\n3. **Pace**: Target an easy pace around 5:40 to 6:00 min/km. This should help you recover while still providing a solid workout.\n4. **Weather Adjustment**: If the conditions feel particularly challenging, consider reducing the distance to around 4 km.\n\nThis approach balances your recent training, maintains consistency, and supports injury prevention while adapting to the current weather conditions.\n\nKeep up the great work, and remember to listen to your body during the run!\n\nConfidence: profile-based.','\n',char(10)),'2026-02-19 17:34:11');
INSERT INTO conversation_messages VALUES('d96e796b-96b3-46bb-8605-32cbf3fca668','4fb172cb-b716-4821-980f-2e7f226d4192','user','Analyze my last run','2026-02-19 17:34:34');
INSERT INTO conversation_messages VALUES('5f1b6095-b80c-4b00-93ab-6f24949f6184','4fb172cb-b716-4821-980f-2e7f226d4192','assistant',replace('## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing: consistent splits with a slight negative split in the second half\n- Pacing strategy, but aim for more consistency in the first half to set a stronger foundation\n- Heart rate management: average hr of 145 bpm indicates a controlled effort\n\n## üéØ Key Metrics\n- **Te management**: average hr of 145 bpm indicates a controlled effort\n- **Training effect****: 4.2 - indicates a productive workout that builds endurance\n- **Te****: 145/175 bpm - appropriate for a moderate to hard effort\n- Te rose steadily, peaking at 175 bpm, which is fine for this effort but keep an eye on hydration and fatigue levels, especially in warmer conditions\n\n## üí° Coaching Points\n- Fatigue levels, especially in warmer conditions\n- Recovery following this session, as the high training effect suggests a need for rest before your next quality workout\n- Pacing: consistent splits with a slight negative split in the second half\n\n## üîß Recommendations\n- Recommendations\n- consider incorporating more tempo runs to help improve your pacing consistency and endurance at faster speeds\n- Hydration and fatigue levels, especially in warmer conditions\n\n---\n**Bottom Line**: Solid heart rate management: average hr of 145 bpm indicates a controlled effort üí™','\n',char(10)),'2026-02-19 17:35:37');
INSERT INTO conversation_messages VALUES('6da5a156-0bfb-4037-944d-86c3954c4049','f9c6a9d0-e134-4173-ba0f-46f2fc2e3c1f','user','Running conditions near me','2026-02-20 03:03:45');
INSERT INTO conversation_messages VALUES('12dd4ca7-ef9c-4945-ac48-6819d0e00dc2','f9c6a9d0-e134-4173-ba0f-46f2fc2e3c1f','assistant','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','2026-02-20 03:03:49');
INSERT INTO conversation_messages VALUES('a124cee6-9f46-4441-a31b-e1f27253a763','f9c6a9d0-e134-4173-ba0f-46f2fc2e3c1f','user','Analyze my last run','2026-02-20 03:03:55');
INSERT INTO conversation_messages VALUES('df8e6ca1-5a3b-4470-a335-f14ad3264ce2','f9c6a9d0-e134-4173-ba0f-46f2fc2e3c1f','assistant',replace('## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing across laps, with only slight variations, showing good energy management\n- Pacing**: consistent splits with a slight increase in pace towards the end, showcasing good pacing discipline\n- Pacing was well-executed, especially maintaining a strong effort throughout the run\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- strong average pace of 5**: 40/km, indicating a good level of fitness and endurance\n- **Training effect****: 4.2 - indicates a highly productive session that builds endurance\n- **Te****: 145 bpm avg, 175 bpm max - appropriate for a moderate effort run\n- Te response was appropriate for the intensity, but be mindful of the max hr nearing 175 bpm; ensure adequate recovery\n\n## üí° Coaching Points\n- Temperatures rise, to support performance and recovery\n- Pacing across laps, with only slight variations, showing good energy management\n- Pacing**: consistent splits with a slight increase in pace towards the end, showcasing good pacing discipline\n\n## üîß Recommendations\n- Recommendations\n- continue to incorporate varied workouts to build both endurance and speed, focusing on maintaining that strong pace\n- Consider adding some interval training to further enhance speed and aerobic capacity\n\n---\n**Bottom Line**: Solid moderate-effort training run\n\n## ‚úÖ strengths\n- strong average pace of 5:40/km, indicating a good level of fitness and endurance üí™','\n',char(10)),'2026-02-20 03:04:51');
INSERT INTO conversation_messages VALUES('f646f61c-1834-4855-a643-e0e9b68e6abd','f9c6a9d0-e134-4173-ba0f-46f2fc2e3c1f','user','create a half marathon plan','2026-02-20 03:07:49');
INSERT INTO conversation_messages VALUES('79960cab-bf9e-4657-bb9a-11b5565a690b','f9c6a9d0-e134-4173-ba0f-46f2fc2e3c1f','assistant','Great. What is your target race date (YYYY-MM-DD), and days per week you can run?','2026-02-20 03:07:50');
INSERT INTO conversation_messages VALUES('6d4b2df4-27d6-4cc3-90f3-3132c037acf5','f9c6a9d0-e134-4173-ba0f-46f2fc2e3c1f','user','2026-05-05  3 days per week','2026-02-20 03:08:09');
INSERT INTO conversation_messages VALUES('c839f10b-fd7d-471a-9ab8-740aeee5dfaa','f9c6a9d0-e134-4173-ba0f-46f2fc2e3c1f','assistant','Here‚Äôs your Half Marathon plan for 2026-05-05. Current phase: base. Focus this week: Incorporate easy runs for recovery. Next run: Easy Run (RPE 3-4)','2026-02-20 03:08:20');
INSERT INTO conversation_messages VALUES('110eac91-2f28-48e3-a6ec-bf6a2db20ad7','f9c6a9d0-e134-4173-ba0f-46f2fc2e3c1f','user','subscribe to this plan','2026-02-20 03:08:29');
INSERT INTO conversation_messages VALUES('75768e47-9ad3-40e4-940b-27ffa64c12a5','f9c6a9d0-e134-4173-ba0f-46f2fc2e3c1f','assistant','You‚Äôre all set. Tracking is enabled for your plan.','2026-02-20 03:08:29');
INSERT INTO conversation_messages VALUES('6d912fce-1a2e-4e44-8cac-e6d6ebf4f180','97b1f355-f5c5-443e-b15d-b8326d789515','user','Running conditions near me','2026-02-20 03:24:21');
INSERT INTO conversation_messages VALUES('a119f088-8339-4774-a897-acf0f78cd0bc','97b1f355-f5c5-443e-b15d-b8326d789515','assistant','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','2026-02-20 03:24:24');
INSERT INTO conversation_messages VALUES('1bd73783-a506-4512-a43c-f2977e74e142','97b1f355-f5c5-443e-b15d-b8326d789515','user','Analyze my last run','2026-02-20 03:24:31');
INSERT INTO conversation_messages VALUES('b18fa871-4944-4050-a828-38ac365e5e0d','97b1f355-f5c5-443e-b15d-b8326d789515','assistant',replace('## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing**: consistent pacing with a slight progression towards the end, demonstrating good energy management\n- Cadence maintained well at 167 spm, which is within the target range for efficiency\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- good pacing consistency**: splits range from 6:40 to 5:44, showing a solid effort throughout the run\n- **Te management**: average hr of 145 bpm indicates you maintained a productive effort level\n- **Training effect****: 4.2 - indicates a highly productive aerobic session\n- **Te****: 145/175 bpm - appropriate for a moderate effort run\n\n## üí° Coaching Points\n- Drift is normal, but be aware of hydration and fatigue\n- Recovery run or easy day following this session, as the training effect indicates a significant load\n- Pacing consistency: splits range from 6:40 to 5:44, showing a solid effort throughout the run\n\n## üîß Recommendations\n- Considering the duration of the run; keep pushing this pace in your training\n- Consider incorporating some negative splits in future runs to enhance your finishing strength\n\n---\n**Bottom Line**: Good pacing consistency: splits range from 6:40 to 5:44, showing a solid effort throughout the run üí™','\n',char(10)),'2026-02-20 03:25:21');
CREATE TABLE conversation_summaries (
    conversation_id TEXT PRIMARY KEY,
    summary_text TEXT NOT NULL,
    message_count INTEGER NOT NULL DEFAULT 0,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE
);
INSERT INTO conversation_summaries VALUES('baef7ec5-0fac-4add-aeb2-e43ab99d095f',replace('Session has 21 total messages.\nLast analysis: ### üèÉ‚Äç‚ôÇÔ∏è Running Plan Overview\n\nBased on your recent training data and current proficiency level, here''s a suggested running plan to continue building your endurance and speed:\n\n#### Weekly Structure\n1. **Easy Runs**: 2 Days\n   - **Goal**: Recovery and aerobic base building.\n   - **Pace**: Aim for ~5:40 to 6:00 min/km.\n   - **Duration**: 30-45 minutes, targeting distances of 6-8 km.\n\n2. **Tempo Run**: 1 Day\n   - **Goal**: Improve lactate threshold and speed.\n   - **Pace**: Aim for 4:50 to 5:00 min/km.\n   - **Duration**: 20-30 minutes of tempo effort, with a proper warm-up and cool-down.\n\n3...\nRecent exchange:\nassistant: ### üìä Running Progress Analysis\n\n#### Recent Training Pattern\n- **Last 3 Runs**:\n  1. **8.01 km at 5:40 min/km** (easy run)\n  2. **5.06 km at 4:54 min/km** (tempo run)\n  3. **5...\nuser: show my running plan\nassistant: ### üèÉ‚Äç‚ôÇÔ∏è Running Plan Overview\n\nBased on your recent training data and current proficiency level, here''s a suggested running plan to continue building your endurance and speed:...\nuser: Running conditions near me','\n',char(10)),21,'2026-02-19 16:39:43');
INSERT INTO conversation_summaries VALUES('c3aeb20e-6985-41af-9c0c-9184883bb727',replace('Session has 7 total messages.\nLast analysis: Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.\nRecent exchange:\nassistant: ## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing: maintained a consistent average pace of 5:40/km across the run\n- Pacing**: consiste...\nuser: Running conditions near me\nassistant: Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.\nuser: what is Te control','\n',char(10)),7,'2026-02-19 16:45:46');
INSERT INTO conversation_summaries VALUES('f9c6a9d0-e134-4173-ba0f-46f2fc2e3c1f',replace('Session has 9 total messages.\nLast analysis: ## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing across laps, with only slight variations, showing good energy management\n- Pacing**: consistent splits with a slight increase in pace towards the end, showcasing good pacing discipline\n- Pacing was well-executed, especially maintaining a strong effort throughout the run\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- strong average pace of 5**: 40/km, indicating a good level of fitness and endurance\n- **Training effect****: 4.2 - indicates a highly productive session that builds endu...\nRecent exchange:\nassistant: Great. What is your target race date (YYYY-MM-DD), and days per week you can run?\nuser: 2026-05-05  3 days per week\nassistant: Here‚Äôs your Half Marathon plan for 2026-05-05. Current phase: base. Focus this week: Incorporate easy runs for recovery. Next run: Easy Run (RPE 3-4)\nuser: subscribe to this plan','\n',char(10)),9,'2026-02-20 03:08:29');
CREATE TABLE analysis_cache (
    id TEXT PRIMARY KEY,
    conversation_id TEXT NOT NULL,
    intent_type TEXT NOT NULL,
    agent TEXT,
    analysis_text TEXT NOT NULL,
    analysis_payload TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE
);
INSERT INTO analysis_cache VALUES('c9edb3e5-d1bd-4179-a477-8163b66c085c','849d9e10-8924-4490-a817-559fe4ebf2b0','weather','WeatherAgent','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','{"weather":{"location_label":"Singapore (approx.)","timezone":"Asia/Singapore","current_time":"12am","current":{"temperature":24.8,"apparent_temperature":30.1,"humidity":94,"precipitation":0,"wind_speed":4.3,"weather_code":3},"detail":"Feels like 30¬∞C","rating_now":"Fair","hours":[{"time":"1am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":94,"dew_point":23.7,"wind_speed":4.1,"precip_prob":8,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"2am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":93,"dew_point":23.6,"wind_speed":3.7,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"3am","score":55,"label":"Poor","details":{"temperature":24.7,"humidity":93,"dew_point":23.5,"wind_speed":3.8,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"4am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":3.1,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"5am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":2.5,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"6am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":94,"dew_point":23.5,"wind_speed":2.2,"precip_prob":0,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"7am","score":55,"label":"Poor","details":{"temperature":24.4,"humidity":94,"dew_point":23.4,"wind_speed":2.5,"precip_prob":3,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"8am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":93,"dew_point":23.3,"wind_speed":2.3,"precip_prob":0,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"9am","score":40,"label":"Poor","details":{"temperature":25.3,"humidity":90,"dew_point":23.6,"wind_speed":5.1,"precip_prob":0,"precipitation":0},"reason":"warm 25¬∞C / humid 90% / dew 23¬∞C"},{"time":"10am","score":47,"label":"Fair","details":{"temperature":26.4,"humidity":83,"dew_point":23.3,"wind_speed":10.9,"precip_prob":0,"precipitation":0},"reason":"warm 26¬∞C / humid 83% / dew 23¬∞C"},{"time":"11am","score":47,"label":"Fair","details":{"temperature":27.5,"humidity":77,"dew_point":23.1,"wind_speed":13.3,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 77% / dew 23¬∞C"},{"time":"12pm","score":47,"label":"Fair","details":{"temperature":27.6,"humidity":76,"dew_point":23,"wind_speed":14.1,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 76% / dew 23¬∞C"}],"summary":"Mixed running conditions expected over the next few hours.","recommendation":"Consider a shorter run or adjust pace based on comfort.","attribution":"Weather data by Open-Meteo.com","needs_location_confirm":false}}','2026-02-19 16:15:42');
INSERT INTO analysis_cache VALUES('b6421752-3a2f-4415-8d9c-5febde20bc56','baef7ec5-0fac-4add-aeb2-e43ab99d095f','last_run','Agent 1 - Current Run Analyzer',replace('## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing**: consistent pacing with slight variations, indicating good energy management as you progressed\n- Heart rate**: 145/175 bpm - appropriate for a moderate effort run, staying within a good range\n- Cadence: average of 167 spm shows good form and efficiency\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- good overall pacing**: maintained a solid average pace of 5:40/km throughout the run\n- **Te management**: average hr of 145 bpm indicates you were working in a productive zone for endurance\n- **Tent cadence**: average of 167 spm shows good form and efficiency\n- **Training effect****: 4.2 - indicates a highly productive workout that likely contributed to your endurance\n\n## üí° Coaching Points\n- Recovery day after this solid effort to allow your body to adapt and rebuild\n- Pacing: maintained a solid average pace of 5:40/km throughout the run\n- Pacing**: consistent pacing with slight variations, indicating good energy management as you progressed\n\n## üîß Recommendations\n- Consider incorporating some variety in your training, such as tempo runs or intervals, to build speed and strength\n- Recommendations\n- for future runs, aim to include some faster-paced segments to challenge your speed and improve your overall pace\n\n---\n**Bottom Line**: Good overall pacing: maintained a solid average pace of 5:40/km throughout the run üí™','\n',char(10)),'{"charts":[{"id":"pace_over_distance","type":"line","title":"Pace Over Distance","xLabels":["1.0 km","2.0 km","3.0 km","4.0 km","5.0 km","6.0 km","7.0 km","8.0 km","8.0 km"],"yLabel":"min/km","series":[{"label":"Pace","data":[6.396533333333333,5.507000000000001,5.458600000000001,5.580466666666666,5.861366666666667,5.441183333333333,5.599900000000001,5.614533333333333,5.133053221288515],"color":"#4f46e5"}]},{"id":"hr_over_distance","type":"line","title":"Heart Rate Over Distance","xLabels":["1.0 km","2.0 km","3.0 km","4.0 km","5.0 km","6.0 km","7.0 km","8.0 km","8.0 km"],"yLabel":"bpm","series":[{"label":"Heart Rate","data":[126,138,141,136,143,155,160,166,160],"color":"#ef4444"}]},{"id":"cadence_over_distance","type":"line","title":"Cadence Over Distance","xLabels":["1.0 km","2.0 km","3.0 km","4.0 km","5.0 km","6.0 km","7.0 km","8.0 km","8.0 km"],"yLabel":"spm","series":[{"label":"Cadence","data":[168.625,170.640625,169.296875,166.625,166.421875,166.765625,165.296875,163.21875,169],"color":"#10b981"}]}]}','2026-02-19 16:28:29');
INSERT INTO analysis_cache VALUES('cc4950b4-6512-4c7f-b43e-51590a2ead03','baef7ec5-0fac-4add-aeb2-e43ab99d095f','weather','WeatherAgent','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','{"weather":{"location_label":"Singapore (approx.)","timezone":"Asia/Singapore","current_time":"12am","current":{"temperature":24.8,"apparent_temperature":30.1,"humidity":94,"precipitation":0,"wind_speed":4.3,"weather_code":3},"detail":"Feels like 30¬∞C","rating_now":"Fair","hours":[{"time":"1am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":94,"dew_point":23.7,"wind_speed":4.1,"precip_prob":8,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"2am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":93,"dew_point":23.6,"wind_speed":3.7,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"3am","score":55,"label":"Poor","details":{"temperature":24.7,"humidity":93,"dew_point":23.5,"wind_speed":3.8,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"4am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":3.1,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"5am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":2.5,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"6am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":94,"dew_point":23.5,"wind_speed":2.2,"precip_prob":0,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"7am","score":55,"label":"Poor","details":{"temperature":24.4,"humidity":94,"dew_point":23.4,"wind_speed":2.5,"precip_prob":3,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"8am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":93,"dew_point":23.3,"wind_speed":2.3,"precip_prob":0,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"9am","score":40,"label":"Poor","details":{"temperature":25.3,"humidity":90,"dew_point":23.6,"wind_speed":5.1,"precip_prob":0,"precipitation":0},"reason":"warm 25¬∞C / humid 90% / dew 23¬∞C"},{"time":"10am","score":47,"label":"Fair","details":{"temperature":26.4,"humidity":83,"dew_point":23.3,"wind_speed":10.9,"precip_prob":0,"precipitation":0},"reason":"warm 26¬∞C / humid 83% / dew 23¬∞C"},{"time":"11am","score":47,"label":"Fair","details":{"temperature":27.5,"humidity":77,"dew_point":23.1,"wind_speed":13.3,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 77% / dew 23¬∞C"},{"time":"12pm","score":47,"label":"Fair","details":{"temperature":27.6,"humidity":76,"dew_point":23,"wind_speed":14.1,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 76% / dew 23¬∞C"}],"summary":"Mixed running conditions expected over the next few hours.","recommendation":"Consider a shorter run or adjust pace based on comfort.","attribution":"Weather data by Open-Meteo.com","needs_location_confirm":false}}','2026-02-19 16:29:44');
INSERT INTO analysis_cache VALUES('3b2d3c80-6c28-4ec4-97a7-51bf7eea60d1','baef7ec5-0fac-4add-aeb2-e43ab99d095f','recent_runs','Agent 2 - Last Runs Comparator',replace('### üìä Recent Training Pattern\n- **Last 3 Runs**:\n  1. 8.01 km at 5:40 min/km (easy run)\n  2. 5.06 km at 4:54 min/km (tempo run)\n  3. 5.01 km at 5:37 min/km (easy run)\n- **Intensity Distribution**: The first run was an easy run, the second was a tempo run, and the third was another easy run. The tempo run was a higher intensity effort, while the easy runs were at a comfortable pace.\n- **Spacing**: There is a mix of easy and tempo runs, with the tempo run being the most intense and followed by easy runs, allowing for recovery.\n- **Signs of Fatigue**: No significant signs of fatigue noted, but the heart rates during the tempo run were elevated, indicating a good effort.\n\n### üí° Key Observations\n- **What''s Working Well**: The inclusion of a tempo run is beneficial for building speed and endurance. Easy runs are appropriately placed for recovery.\n- **Concerns or Patterns to Address**: Ensure that the intensity of the tempo run is sustainable and does not lead to overtraining.\n- **Missing Workout Types**: No VO2max intervals have been included in the recent runs, which could enhance speed and aerobic capacity.\n\n### üéØ Next Workout Recommendation\n**Workout Type**: VO2max Intervals  \n**Rationale**: Incorporating intervals will help improve speed and aerobic capacity, complementing the recent tempo and easy runs.  \n**Specific Workout**: 2 km warm-up, followed by 6 x 400m at 5K pace with 400m jog recovery, and a 1 km cool-down.  \n**Duration/Distance**: Approximately 60 minutes total, including warm-up and cool-down.  \n**Key Focus**: Emphasize maintaining a strong pace during the intervals while ensuring proper recovery between each effort.\n\n### ‚ö†Ô∏è Important Notes\n- Ensure adequate hydration and nutrition before and after the workout.\n- Monitor how you feel during the intervals; adjust pace if necessary to avoid overexertion.\n- Schedule the next hard session after at least 48 hours of recovery following this workout.','\n',char(10)),'{"charts":[{"id":"pace_last_runs","type":"line","title":"Average Pace (last 3 runs)","xLabels":["Run 1","Run 2","Run 3"],"yLabel":"min/km","series":[{"label":"Pace","data":[5.681631905873347,4.903605569060424,5.622849016165211],"color":"#4f46e5"}]},{"id":"hr_last_runs","type":"line","title":"Average Heart Rate (last 3 runs)","xLabels":["Run 1","Run 2","Run 3"],"yLabel":"bpm","series":[{"label":"Avg HR","data":[145,151,143],"color":"#ef4444"}]},{"id":"cadence_last_runs","type":"line","title":"Average Cadence (last 3 runs)","xLabels":["Run 1","Run 2","Run 3"],"yLabel":"spm","series":[{"label":"Cadence","data":[167.125,160.03125,161.296875],"color":"#10b981"}]},{"id":"distance_last_runs","type":"line","title":"Distance (last 3 runs)","xLabels":["Run 1","Run 2","Run 3"],"yLabel":"km","series":[{"label":"Distance","data":[8.011899999999999,5.05579,5.00643],"color":"#f97316"}]}]}','2026-02-19 16:31:11');
INSERT INTO analysis_cache VALUES('45e1e28e-bfa9-497e-b386-7860b15e7172','baef7ec5-0fac-4add-aeb2-e43ab99d095f','weather','WeatherAgent','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','{"weather":{"location_label":"Singapore (approx.)","timezone":"Asia/Singapore","current_time":"12am","current":{"temperature":24.8,"apparent_temperature":30.1,"humidity":94,"precipitation":0,"wind_speed":4,"weather_code":3},"detail":"Feels like 30¬∞C","rating_now":"Fair","hours":[{"time":"1am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":94,"dew_point":23.7,"wind_speed":4.1,"precip_prob":8,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"2am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":93,"dew_point":23.6,"wind_speed":3.7,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"3am","score":55,"label":"Poor","details":{"temperature":24.7,"humidity":93,"dew_point":23.5,"wind_speed":3.8,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"4am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":3.1,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"5am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":2.5,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"6am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":94,"dew_point":23.5,"wind_speed":2.2,"precip_prob":0,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"7am","score":55,"label":"Poor","details":{"temperature":24.4,"humidity":94,"dew_point":23.4,"wind_speed":2.5,"precip_prob":3,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"8am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":93,"dew_point":23.3,"wind_speed":2.3,"precip_prob":0,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"9am","score":40,"label":"Poor","details":{"temperature":25.3,"humidity":90,"dew_point":23.6,"wind_speed":5.1,"precip_prob":0,"precipitation":0},"reason":"warm 25¬∞C / humid 90% / dew 23¬∞C"},{"time":"10am","score":47,"label":"Fair","details":{"temperature":26.4,"humidity":83,"dew_point":23.3,"wind_speed":10.9,"precip_prob":0,"precipitation":0},"reason":"warm 26¬∞C / humid 83% / dew 23¬∞C"},{"time":"11am","score":47,"label":"Fair","details":{"temperature":27.5,"humidity":77,"dew_point":23.1,"wind_speed":13.3,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 77% / dew 23¬∞C"},{"time":"12pm","score":47,"label":"Fair","details":{"temperature":27.6,"humidity":76,"dew_point":23,"wind_speed":14.1,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 76% / dew 23¬∞C"}],"summary":"Mixed running conditions expected over the next few hours.","recommendation":"Consider a shorter run or adjust pace based on comfort.","attribution":"Weather data by Open-Meteo.com","needs_location_confirm":false}}','2026-02-19 16:32:07');
INSERT INTO analysis_cache VALUES('066c1562-910a-49d7-8ddc-91f2430a84d5','aabc483f-f1a8-4fb5-9647-d828f8e99487','last_run','Agent 1 - Current Run Analyzer',replace('## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing: maintained a consistent average pace of 5:40/km throughout the run\n- Pacing**: consistent pacing with no major fluctuations indicates good energy management\n- Cadence was decent at 167 spm, showing good leg turnover\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- good overall pacing**: maintained a consistent average pace of 5:40/km throughout the run\n- **Te management**: average hr of 145 bpm indicates a productive effort, with max hr reaching 175 bpm\n- **Training effect****: 4.2 - indicates a highly productive session, enhancing aerobic capacity\n- **Te****: 145/175 bpm - appropriate for a moderate effort, suggesting effective training\n\n## üí° Coaching Points\n- Weather warms up; staying hydrated can help maintain performance and prevent fatigue\n- Recovery run or cross-training session in the next 24-36 hours to allow your body to adapt to this training load\n- Pacing: maintained a consistent average pace of 5:40/km throughout the run\n\n## üîß Recommendations\n- Consider incorporating more varied paces in future runs to enhance speed and endurance\n- Recommendations\n- for your next run, try to include some intervals or tempo segments to challenge your speed and improve your anaerobic threshold\n\n---\n**Bottom Line**: Good overall pacing: maintained a consistent average pace of 5:40/km throughout the run üí™','\n',char(10)),'{"charts":[{"id":"pace_over_distance","type":"line","title":"Pace Over Distance","xLabels":["1.0 km","2.0 km","3.0 km","4.0 km","5.0 km","6.0 km","7.0 km","8.0 km","8.0 km"],"yLabel":"min/km","series":[{"label":"Pace","data":[6.396533333333333,5.507000000000001,5.458600000000001,5.580466666666666,5.861366666666667,5.441183333333333,5.599900000000001,5.614533333333333,5.133053221288515],"color":"#4f46e5"}]},{"id":"hr_over_distance","type":"line","title":"Heart Rate Over Distance","xLabels":["1.0 km","2.0 km","3.0 km","4.0 km","5.0 km","6.0 km","7.0 km","8.0 km","8.0 km"],"yLabel":"bpm","series":[{"label":"Heart Rate","data":[126,138,141,136,143,155,160,166,160],"color":"#ef4444"}]},{"id":"cadence_over_distance","type":"line","title":"Cadence Over Distance","xLabels":["1.0 km","2.0 km","3.0 km","4.0 km","5.0 km","6.0 km","7.0 km","8.0 km","8.0 km"],"yLabel":"spm","series":[{"label":"Cadence","data":[168.625,170.640625,169.296875,166.625,166.421875,166.765625,165.296875,163.21875,169],"color":"#10b981"}]}]}','2026-02-19 16:32:28');
INSERT INTO analysis_cache VALUES('3a720677-e6f1-4993-b672-3e6653be120b','baef7ec5-0fac-4add-aeb2-e43ab99d095f','fitness_trend','Coach Q&A Agent - Context Aware',replace('### üìä Running Progress Analysis\n\n#### Recent Training Pattern\n- **Last 3 Runs**:\n  1. **8.01 km at 5:40 min/km** (easy run)\n  2. **5.06 km at 4:54 min/km** (tempo run)\n  3. **5.01 km at 5:37 min/km** (easy run)\n\n#### Key Observations\n1. **Pacing**: \n   - Your easy runs are averaging around **5:40 min/km** to **5:37 min/km**, which indicates a good pace for recovery. The tempo run at **4:54 min/km** shows you are capable of maintaining a faster pace, reflecting improved speed and stamina.\n\n2. **Intensity Distribution**: \n   - You have a good balance between easy runs and more intense tempo efforts. This mix is important for developing endurance while allowing for recovery.\n\n3. **Training Volume & Consistency**:\n   - Over the last 10 runs, you''ve averaged **5.38 km per run**, with a total distance of **43.06 km**. This indicates you are maintaining a consistent running frequency of about 3-4 times per week, which is excellent for a beginner.\n\n4. **Cadence & Heart Rate**:\n   - Your average cadence of **167 spm** is solid, suggesting good running form and efficiency. Your heart rate during easy efforts (145 bpm) stays within an appropriate range, indicating you are not overexerting during these sessions.\n\n#### Recommendations for Next Run\nGiven the mixed running conditions and your current training pattern, consider the following for your next run:\n- **Duration/Distance**: Aim for another easy run of about **5-8 km** depending on the weather conditions. If it''s too challenging outside, keep it on the shorter side.\n- **Pace**: Maintain a comfortable pace around **5:40 - 6:00 min/km** to ensure recovery while still enjoying your run.\n- **Listen to Your Body**: Adjust your pace based on how you feel during the run, especially with the changing conditions.\n\n### Conclusion\nYou‚Äôre making good progress with your training, balancing intensity and recovery. Keep it up, and remember to adapt your runs based on how you feel and the weather conditions!\n\nConfidence: profile-based.','\n',char(10)),NULL,'2026-02-19 16:34:53');
INSERT INTO analysis_cache VALUES('d169a2fe-f8c7-41bd-a50d-cc21117870ba','5daac00a-ea24-4ec7-b2f9-3fc7dd762fcf','last_run','Agent 1 - Current Run Analyzer',replace('## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing: consistent splits with a slight negative split towards the end (6:40 ‚Üí 5:44)\n- Pacing**: consistent pacing with a slight negative split demonstrates effective energy management\n- Heart rate management: average hr at 145 bpm indicates a controlled effort throughout\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- solid pacing**: consistent splits with a slight negative split towards the end (6:40 ‚Üí 5:44)\n- **Te management**: average hr at 145 bpm indicates a controlled effort throughout\n- **Training effect****: 4.2 - indicates a highly productive session that likely improved your aerobic capacity\n- **Te****: 145/175 bpm - appropriate for a moderate effort, aligning with your training goals\n\n## üí° Coaching Points\n- Weather conditions were warm, which can affect performance; your effort was commendable given the temperature\n- Fatigue or heat stress\n- Fatigue and potential injury\n\n## üîß Recommendations\n- Consider hydration strategies, as your hr peaked at 175 bpm towards the end, which could indicate fatigue or heat stress\n- Recommendations\n- on warmer days, aim to start your runs earlier or adjust your pace to stay within your target hr zones\n\n---\n**Bottom Line**: Good heart rate management: average hr at 145 bpm indicates a controlled effort throughout üí™','\n',char(10)),'{"charts":[{"id":"pace_over_distance","type":"line","title":"Pace Over Distance","xLabels":["1.0 km","2.0 km","3.0 km","4.0 km","5.0 km","6.0 km","7.0 km","8.0 km","8.0 km"],"yLabel":"min/km","series":[{"label":"Pace","data":[6.396533333333333,5.507000000000001,5.458600000000001,5.580466666666666,5.861366666666667,5.441183333333333,5.599900000000001,5.614533333333333,5.133053221288515],"color":"#4f46e5"}]},{"id":"hr_over_distance","type":"line","title":"Heart Rate Over Distance","xLabels":["1.0 km","2.0 km","3.0 km","4.0 km","5.0 km","6.0 km","7.0 km","8.0 km","8.0 km"],"yLabel":"bpm","series":[{"label":"Heart Rate","data":[126,138,141,136,143,155,160,166,160],"color":"#ef4444"}]},{"id":"cadence_over_distance","type":"line","title":"Cadence Over Distance","xLabels":["1.0 km","2.0 km","3.0 km","4.0 km","5.0 km","6.0 km","7.0 km","8.0 km","8.0 km"],"yLabel":"spm","series":[{"label":"Cadence","data":[168.625,170.640625,169.296875,166.625,166.421875,166.765625,165.296875,163.21875,169],"color":"#10b981"}]}]}','2026-02-19 16:35:10');
INSERT INTO analysis_cache VALUES('8458bdd8-4041-4aec-a62e-120ab8768f63','baef7ec5-0fac-4add-aeb2-e43ab99d095f','fitness_trend','Coach Q&A Agent - Context Aware',replace('### üìä Running Progress Analysis\n\n#### Recent Training Pattern\n- **Last 3 Runs**:\n  1. **8.01 km at 5:40 min/km** (easy run)\n  2. **5.06 km at 4:54 min/km** (tempo run)\n  3. **5.01 km at 5:37 min/km** (easy run)\n\n#### Key Observations\n1. **Pacing**: \n   - Your easy runs are averaging around **5:40 min/km to 5:37 min/km**, indicating an effective recovery pace. The tempo run at **4:54 min/km** suggests you have the capacity to sustain faster efforts, showcasing your improving speed and endurance.\n\n2. **Intensity Distribution**: \n   - You are maintaining a good balance between easy runs and tempo runs. This variety is crucial for building endurance while ensuring adequate recovery.\n\n3. **Training Volume & Consistency**:\n   - Over your last 10 runs, you''ve averaged **5.38 km per run**, which demonstrates consistency in your training volume. While you''re managing a good frequency of runs, the variability in distances indicates room for improvement in uniform training loads.\n\n#### Recommendations\n- **Continue to focus on easy runs** to promote recovery and build endurance. Aim to keep your easy run paces within the current range.\n- **Incorporate more tempo runs** gradually, ensuring you balance them with sufficient recovery days to avoid overtraining.\n\nOverall, your progress suggests you are on a positive trajectory. Keep up the good work!\n\nConfidence: profile-based.','\n',char(10)),NULL,'2026-02-19 16:38:47');
INSERT INTO analysis_cache VALUES('ab530030-ce63-4efc-9aa7-c30b05bd1d28','baef7ec5-0fac-4add-aeb2-e43ab99d095f','training_plan','Coach Q&A Agent - Context Aware',replace('### üèÉ‚Äç‚ôÇÔ∏è Running Plan Overview\n\nBased on your recent training data and current proficiency level, here''s a suggested running plan to continue building your endurance and speed:\n\n#### Weekly Structure\n1. **Easy Runs**: 2 Days\n   - **Goal**: Recovery and aerobic base building.\n   - **Pace**: Aim for ~5:40 to 6:00 min/km.\n   - **Duration**: 30-45 minutes, targeting distances of 6-8 km.\n\n2. **Tempo Run**: 1 Day\n   - **Goal**: Improve lactate threshold and speed.\n   - **Pace**: Aim for 4:50 to 5:00 min/km.\n   - **Duration**: 20-30 minutes of tempo effort, with a proper warm-up and cool-down.\n\n3. **Long Run**: 1 Day\n   - **Goal**: Build endurance for longer distances.\n   - **Pace**: Comfortable, around 6:00 to 6:30 min/km.\n   - **Distance**: Start with 10-12 km and gradually increase.\n\n4. **Rest/Recovery Days**: 2 Days\n   - Focus on active recovery activities such as walking, yoga, or cross-training.\n\n#### Additional Considerations\n- **Progression**: Increase your long run distance by about 10% each week to safely build endurance.\n- **Variety**: Incorporate hill workouts or interval training once every few weeks to enhance strength and speed.\n- **Nutrition & Hydration**: Ensure you''re fueling adequately before and after runs, especially on long and tempo days.\n\nThis structured approach will help you maintain a balance of intensity and recovery, ultimately aiding your performance in upcoming races, whether they be half marathon or marathon distances.\n\nConfidence: profile-based.','\n',char(10)),NULL,'2026-02-19 16:39:05');
INSERT INTO analysis_cache VALUES('09bc7b44-670b-4492-8c58-fac5c6dcfd91','baef7ec5-0fac-4add-aeb2-e43ab99d095f','weather','WeatherAgent','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','{"weather":{"location_label":"Singapore (approx.)","timezone":"Asia/Singapore","current_time":"12am","current":{"temperature":24.8,"apparent_temperature":30.1,"humidity":94,"precipitation":0,"wind_speed":4,"weather_code":3},"detail":"Feels like 30¬∞C","rating_now":"Fair","hours":[{"time":"1am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":94,"dew_point":23.7,"wind_speed":4.1,"precip_prob":8,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"2am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":93,"dew_point":23.6,"wind_speed":3.7,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"3am","score":55,"label":"Poor","details":{"temperature":24.7,"humidity":93,"dew_point":23.5,"wind_speed":3.8,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"4am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":3.1,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"5am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":2.5,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"6am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":94,"dew_point":23.5,"wind_speed":2.2,"precip_prob":0,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"7am","score":55,"label":"Poor","details":{"temperature":24.4,"humidity":94,"dew_point":23.4,"wind_speed":2.5,"precip_prob":3,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"8am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":93,"dew_point":23.3,"wind_speed":2.3,"precip_prob":0,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"9am","score":40,"label":"Poor","details":{"temperature":25.3,"humidity":90,"dew_point":23.6,"wind_speed":5.1,"precip_prob":0,"precipitation":0},"reason":"warm 25¬∞C / humid 90% / dew 23¬∞C"},{"time":"10am","score":47,"label":"Fair","details":{"temperature":26.4,"humidity":83,"dew_point":23.3,"wind_speed":10.9,"precip_prob":0,"precipitation":0},"reason":"warm 26¬∞C / humid 83% / dew 23¬∞C"},{"time":"11am","score":47,"label":"Fair","details":{"temperature":27.5,"humidity":77,"dew_point":23.1,"wind_speed":13.3,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 77% / dew 23¬∞C"},{"time":"12pm","score":47,"label":"Fair","details":{"temperature":27.6,"humidity":76,"dew_point":23,"wind_speed":14.1,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 76% / dew 23¬∞C"}],"summary":"Mixed running conditions expected over the next few hours.","recommendation":"Consider a shorter run or adjust pace based on comfort.","attribution":"Weather data by Open-Meteo.com","needs_location_confirm":false}}','2026-02-19 16:39:46');
INSERT INTO analysis_cache VALUES('1fdb41d2-8854-443f-9344-e342355cd088','57edee2e-dc24-435d-977a-ef2517bbd19b','weather','WeatherAgent','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','{"weather":{"location_label":"Singapore (approx.)","timezone":"Asia/Singapore","current_time":"12am","current":{"temperature":24.8,"apparent_temperature":30.1,"humidity":94,"precipitation":0,"wind_speed":4,"weather_code":3},"detail":"Feels like 30¬∞C","rating_now":"Fair","hours":[{"time":"1am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":94,"dew_point":23.7,"wind_speed":4.1,"precip_prob":8,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"2am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":93,"dew_point":23.6,"wind_speed":3.7,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"3am","score":55,"label":"Poor","details":{"temperature":24.7,"humidity":93,"dew_point":23.5,"wind_speed":3.8,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"4am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":3.1,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"5am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":2.5,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"6am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":94,"dew_point":23.5,"wind_speed":2.2,"precip_prob":0,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"7am","score":55,"label":"Poor","details":{"temperature":24.4,"humidity":94,"dew_point":23.4,"wind_speed":2.5,"precip_prob":3,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"8am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":93,"dew_point":23.3,"wind_speed":2.3,"precip_prob":0,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"9am","score":40,"label":"Poor","details":{"temperature":25.3,"humidity":90,"dew_point":23.6,"wind_speed":5.1,"precip_prob":0,"precipitation":0},"reason":"warm 25¬∞C / humid 90% / dew 23¬∞C"},{"time":"10am","score":47,"label":"Fair","details":{"temperature":26.4,"humidity":83,"dew_point":23.3,"wind_speed":10.9,"precip_prob":0,"precipitation":0},"reason":"warm 26¬∞C / humid 83% / dew 23¬∞C"},{"time":"11am","score":47,"label":"Fair","details":{"temperature":27.5,"humidity":77,"dew_point":23.1,"wind_speed":13.3,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 77% / dew 23¬∞C"},{"time":"12pm","score":47,"label":"Fair","details":{"temperature":27.6,"humidity":76,"dew_point":23,"wind_speed":14.1,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 76% / dew 23¬∞C"}],"summary":"Mixed running conditions expected over the next few hours.","recommendation":"Consider a shorter run or adjust pace based on comfort.","attribution":"Weather data by Open-Meteo.com","needs_location_confirm":false}}','2026-02-19 16:42:10');
INSERT INTO analysis_cache VALUES('892e938b-7752-42df-8902-d7c55ddc45d5','c3aeb20e-6985-41af-9c0c-9184883bb727','weather','WeatherAgent','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','{"weather":{"location_label":"Singapore (approx.)","timezone":"Asia/Singapore","current_time":"12am","current":{"temperature":24.8,"apparent_temperature":30.1,"humidity":94,"precipitation":0,"wind_speed":4,"weather_code":3},"detail":"Feels like 30¬∞C","rating_now":"Fair","hours":[{"time":"1am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":94,"dew_point":23.7,"wind_speed":4.1,"precip_prob":8,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"2am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":93,"dew_point":23.6,"wind_speed":3.7,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"3am","score":55,"label":"Poor","details":{"temperature":24.7,"humidity":93,"dew_point":23.5,"wind_speed":3.8,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"4am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":3.1,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"5am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":2.5,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"6am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":94,"dew_point":23.5,"wind_speed":2.2,"precip_prob":0,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"7am","score":55,"label":"Poor","details":{"temperature":24.4,"humidity":94,"dew_point":23.4,"wind_speed":2.5,"precip_prob":3,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"8am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":93,"dew_point":23.3,"wind_speed":2.3,"precip_prob":0,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"9am","score":40,"label":"Poor","details":{"temperature":25.3,"humidity":90,"dew_point":23.6,"wind_speed":5.1,"precip_prob":0,"precipitation":0},"reason":"warm 25¬∞C / humid 90% / dew 23¬∞C"},{"time":"10am","score":47,"label":"Fair","details":{"temperature":26.4,"humidity":83,"dew_point":23.3,"wind_speed":10.9,"precip_prob":0,"precipitation":0},"reason":"warm 26¬∞C / humid 83% / dew 23¬∞C"},{"time":"11am","score":47,"label":"Fair","details":{"temperature":27.5,"humidity":77,"dew_point":23.1,"wind_speed":13.3,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 77% / dew 23¬∞C"},{"time":"12pm","score":47,"label":"Fair","details":{"temperature":27.6,"humidity":76,"dew_point":23,"wind_speed":14.1,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 76% / dew 23¬∞C"}],"summary":"Mixed running conditions expected over the next few hours.","recommendation":"Consider a shorter run or adjust pace based on comfort.","attribution":"Weather data by Open-Meteo.com","needs_location_confirm":false}}','2026-02-19 16:42:47');
INSERT INTO analysis_cache VALUES('db3dd8bb-6097-4ccb-8e33-95473e5a01eb','c3aeb20e-6985-41af-9c0c-9184883bb727','last_run','Agent 1 - Current Run Analyzer',replace('## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing: maintained a consistent average pace of 5:40/km across the run\n- Pacing**: consistent pacing with only slight variations, demonstrating good energy management\n- Heart rate control: average hr of 145 bpm indicates a productive effort within the moderate range\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- solid pacing**: maintained a consistent average pace of 5:40/km across the run\n- **Te control**: average hr of 145 bpm indicates a productive effort within the moderate range\n- **Training effect****: 4.2 - indicates a highly productive aerobic session\n- **Te****: 145/175 bpm - appropriate for a moderate intensity run\n\n## üí° Coaching Points\n- Temperatures rise, to maintain performance and recovery\n- Zones for your training goals\n- Pacing: maintained a consistent average pace of 5:40/km across the run\n\n## üîß Recommendations\n- Consider incorporating more varied paces in your training to improve speed and strength, especially on your next few runs\n- Recommendations\n- for your next session, try to include some intervals or tempo segments to push your speed and improve your overall pace\n\n---\n**Bottom Line**: Solid pacing: maintained a consistent average pace of 5:40/km across the run üí™','\n',char(10)),'{"charts":[{"id":"pace_over_distance","type":"line","title":"Pace Over Distance","xLabels":["1.0 km","2.0 km","3.0 km","4.0 km","5.0 km","6.0 km","7.0 km","8.0 km","8.0 km"],"yLabel":"min/km","series":[{"label":"Pace","data":[6.396533333333333,5.507000000000001,5.458600000000001,5.580466666666666,5.861366666666667,5.441183333333333,5.599900000000001,5.614533333333333,5.133053221288515],"color":"#4f46e5"}]},{"id":"hr_over_distance","type":"line","title":"Heart Rate Over Distance","xLabels":["1.0 km","2.0 km","3.0 km","4.0 km","5.0 km","6.0 km","7.0 km","8.0 km","8.0 km"],"yLabel":"bpm","series":[{"label":"Heart Rate","data":[126,138,141,136,143,155,160,166,160],"color":"#ef4444"}]},{"id":"cadence_over_distance","type":"line","title":"Cadence Over Distance","xLabels":["1.0 km","2.0 km","3.0 km","4.0 km","5.0 km","6.0 km","7.0 km","8.0 km","8.0 km"],"yLabel":"spm","series":[{"label":"Cadence","data":[168.625,170.640625,169.296875,166.625,166.421875,166.765625,165.296875,163.21875,169],"color":"#10b981"}]}]}','2026-02-19 16:44:02');
INSERT INTO analysis_cache VALUES('e007eb4b-3fb1-4fec-af37-cef26af1366f','c3aeb20e-6985-41af-9c0c-9184883bb727','weather','WeatherAgent','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','{"weather":{"location_label":"Singapore (approx.)","timezone":"Asia/Singapore","current_time":"12am","current":{"temperature":24.8,"apparent_temperature":30.1,"humidity":94,"precipitation":0,"wind_speed":4.1,"weather_code":3},"detail":"Feels like 30¬∞C","rating_now":"Fair","hours":[{"time":"1am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":94,"dew_point":23.7,"wind_speed":4.1,"precip_prob":8,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"2am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":93,"dew_point":23.6,"wind_speed":3.7,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"3am","score":55,"label":"Poor","details":{"temperature":24.7,"humidity":93,"dew_point":23.5,"wind_speed":3.8,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"4am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":3.1,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"5am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":2.5,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"6am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":94,"dew_point":23.5,"wind_speed":2.2,"precip_prob":0,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"7am","score":55,"label":"Poor","details":{"temperature":24.4,"humidity":94,"dew_point":23.4,"wind_speed":2.5,"precip_prob":3,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"8am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":93,"dew_point":23.3,"wind_speed":2.3,"precip_prob":0,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"9am","score":40,"label":"Poor","details":{"temperature":25.3,"humidity":90,"dew_point":23.6,"wind_speed":5.1,"precip_prob":0,"precipitation":0},"reason":"warm 25¬∞C / humid 90% / dew 23¬∞C"},{"time":"10am","score":47,"label":"Fair","details":{"temperature":26.4,"humidity":83,"dew_point":23.3,"wind_speed":10.9,"precip_prob":0,"precipitation":0},"reason":"warm 26¬∞C / humid 83% / dew 23¬∞C"},{"time":"11am","score":47,"label":"Fair","details":{"temperature":27.5,"humidity":77,"dew_point":23.1,"wind_speed":13.3,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 77% / dew 23¬∞C"},{"time":"12pm","score":47,"label":"Fair","details":{"temperature":27.6,"humidity":76,"dew_point":23,"wind_speed":14.1,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 76% / dew 23¬∞C"}],"summary":"Mixed running conditions expected over the next few hours.","recommendation":"Consider a shorter run or adjust pace based on comfort.","attribution":"Weather data by Open-Meteo.com","needs_location_confirm":false}}','2026-02-19 16:45:10');
INSERT INTO analysis_cache VALUES('0384dacc-b7cb-44ce-986b-6087350f23c3','c3aeb20e-6985-41af-9c0c-9184883bb727','general','Coach Q&A Agent - Context Aware','I''m specialized in running coaching and training. I can help with running technique, training plans, race preparation, or recovery. What would you like to know about your running?',NULL,'2026-02-19 16:45:49');
INSERT INTO analysis_cache VALUES('44d54387-9e03-4b1f-a42f-b46782e081cc','2a83a911-8f3d-4fbb-9ace-195c20d4ef11','weather','WeatherAgent','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','{"weather":{"location_label":"Singapore (approx.)","timezone":"Asia/Singapore","current_time":"1am","current":{"temperature":24.8,"apparent_temperature":30.1,"humidity":94,"precipitation":0,"wind_speed":4.1,"weather_code":3},"detail":"Dew point 23¬∞C ¬∑ Feels like 30¬∞C","rating_now":"Fair","hours":[{"time":"1am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":94,"dew_point":23.7,"wind_speed":4.1,"precip_prob":8,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"2am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":93,"dew_point":23.6,"wind_speed":3.7,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"3am","score":55,"label":"Poor","details":{"temperature":24.7,"humidity":93,"dew_point":23.5,"wind_speed":3.8,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"4am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":3.1,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"5am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":2.5,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"6am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":94,"dew_point":23.5,"wind_speed":2.2,"precip_prob":0,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"7am","score":55,"label":"Poor","details":{"temperature":24.4,"humidity":94,"dew_point":23.4,"wind_speed":2.5,"precip_prob":3,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"8am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":93,"dew_point":23.3,"wind_speed":2.3,"precip_prob":0,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"9am","score":40,"label":"Poor","details":{"temperature":25.3,"humidity":90,"dew_point":23.6,"wind_speed":5.1,"precip_prob":0,"precipitation":0},"reason":"warm 25¬∞C / humid 90% / dew 23¬∞C"},{"time":"10am","score":47,"label":"Fair","details":{"temperature":26.4,"humidity":83,"dew_point":23.3,"wind_speed":10.9,"precip_prob":0,"precipitation":0},"reason":"warm 26¬∞C / humid 83% / dew 23¬∞C"},{"time":"11am","score":47,"label":"Fair","details":{"temperature":27.5,"humidity":77,"dew_point":23.1,"wind_speed":13.3,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 77% / dew 23¬∞C"},{"time":"12pm","score":47,"label":"Fair","details":{"temperature":27.6,"humidity":76,"dew_point":23,"wind_speed":14.1,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 76% / dew 23¬∞C"}],"summary":"Mixed running conditions expected over the next few hours.","recommendation":"Consider a shorter run or adjust pace based on comfort.","attribution":"Weather data by Open-Meteo.com","needs_location_confirm":false}}','2026-02-19 17:08:10');
INSERT INTO analysis_cache VALUES('c2b1d737-d9ea-40ba-af77-f4838f3c5d5d','2a83a911-8f3d-4fbb-9ace-195c20d4ef11','last_run','Agent 1 - Current Run Analyzer',replace('## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing strategy was commendable, especially with the negative split; this shows good energy management\n- Heart rate management: average hr of 145 bpm indicates a controlled effort for the distance\n- Heart rate**: 145/175 bpm - appropriate for a moderate effort, with a good balance throughout the run\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- good pacing consistency**: splits ranged from 6:40 to 5:26, with a slight negative split towards the end\n- **Te management**: average hr of 145 bpm indicates a controlled effort for the distance\n- **Training effect****: 4.2 - indicates a productive session that likely improved your aerobic capacity\n- **Te****: 145/175 bpm - appropriate for a moderate effort, with a good balance throughout the run\n\n## üí° Coaching Points\n- Weather conditions were warm, and you did well to manage your effort; hydration is key in such conditions\n- Recovery after this session, especially given the high training effect (4\n- Easy run or rest day before your next quality workout\n\n## üîß Recommendations\n- Recommendations\n- consider incorporating more interval training to improve your speed and further enhance your pacing strategies in future runs\n- Hydration is key in such conditions\n\n---\n**Bottom Line**: Solid heart rate management: average hr of 145 bpm indicates a controlled effort for the distance üí™','\n',char(10)),'{"charts":[{"id":"pace_consistency","type":"bar","title":"Pace Consistency (% vs Average)","xLabels":["1.0k","2.0k","3.0k","4.0k","5.0k","6.0k","7.0k","8.0k","8.0k"],"yLabel":"% deviation","series":[{"label":"Pace Deviation","data":[13.8,-2,-2.9,-0.7,4.3,-3.2,-0.4,-0.1,-8.7],"colors":["#ef4444","#10b981","#10b981","#10b981","#10b981","#10b981","#10b981","#10b981","#f59e0b"],"unit":"%"}],"note":"Avg: 5.62 min/km | Green: ¬±5%, Orange: ¬±10%, Red: >10%"},{"id":"split_analysis","type":"bar","title":"Split Analysis (First vs Second Half)","xLabels":["First Half","Second Half"],"yLabel":"min/km","series":[{"label":"Avg Pace","data":[5.74,5.53],"colors":["#3b82f6","#8b5cf6"],"unit":"min/km"}],"note":"Negative split: 3.6% faster in 2nd half"},{"id":"hr_response","type":"line","title":"Heart Rate Response","xLabels":["1.0k","2.0k","3.0k","4.0k","5.0k","6.0k","7.0k","8.0k","8.0k"],"yLabel":"bpm","series":[{"label":"Heart Rate","data":[126,138,141,136,143,155,160,166,160],"color":"#ef4444","unit":"bpm"}],"note":"Avg HR: 147 bpm | Max: 166 bpm"},{"id":"effort_distribution","type":"bar","title":"Effort Distribution by KM","xLabels":["1.0k","2.0k","3.0k","4.0k","5.0k","6.0k","7.0k","8.0k","8.0k"],"yLabel":"Effort Score","series":[{"label":"Effort","data":[60.8,65.7,66,65.3,63.6,66.2,65.1,65,68.3],"color":"#00D4AA","unit":"score"}],"note":"Higher score = higher effort relative to your average"}]}','2026-02-19 17:10:07');
INSERT INTO analysis_cache VALUES('7aab657c-35d5-483f-b817-d391b21583f5','2a83a911-8f3d-4fbb-9ace-195c20d4ef11','weather','WeatherAgent','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','{"weather":{"location_label":"Singapore (approx.)","timezone":"Asia/Singapore","current_time":"1am","current":{"temperature":24.8,"apparent_temperature":30.1,"humidity":94,"precipitation":0,"wind_speed":4.1,"weather_code":3},"detail":"Dew point 23¬∞C ¬∑ Feels like 30¬∞C","rating_now":"Fair","hours":[{"time":"1am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":94,"dew_point":23.7,"wind_speed":4.1,"precip_prob":8,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"2am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":93,"dew_point":23.6,"wind_speed":3.7,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"3am","score":55,"label":"Poor","details":{"temperature":24.7,"humidity":93,"dew_point":23.5,"wind_speed":3.8,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"4am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":3.1,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"5am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":2.5,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"6am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":94,"dew_point":23.5,"wind_speed":2.2,"precip_prob":0,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"7am","score":55,"label":"Poor","details":{"temperature":24.4,"humidity":94,"dew_point":23.4,"wind_speed":2.5,"precip_prob":3,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"8am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":93,"dew_point":23.3,"wind_speed":2.3,"precip_prob":0,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"9am","score":40,"label":"Poor","details":{"temperature":25.3,"humidity":90,"dew_point":23.6,"wind_speed":5.1,"precip_prob":0,"precipitation":0},"reason":"warm 25¬∞C / humid 90% / dew 23¬∞C"},{"time":"10am","score":47,"label":"Fair","details":{"temperature":26.4,"humidity":83,"dew_point":23.3,"wind_speed":10.9,"precip_prob":0,"precipitation":0},"reason":"warm 26¬∞C / humid 83% / dew 23¬∞C"},{"time":"11am","score":47,"label":"Fair","details":{"temperature":27.5,"humidity":77,"dew_point":23.1,"wind_speed":13.3,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 77% / dew 23¬∞C"},{"time":"12pm","score":47,"label":"Fair","details":{"temperature":27.6,"humidity":76,"dew_point":23,"wind_speed":14.1,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 76% / dew 23¬∞C"}],"summary":"Mixed running conditions expected over the next few hours.","recommendation":"Consider a shorter run or adjust pace based on comfort.","attribution":"Weather data by Open-Meteo.com","needs_location_confirm":false}}','2026-02-19 17:14:40');
INSERT INTO analysis_cache VALUES('fc232385-6779-4b94-a56e-2d5bd3df728b','1d6b1dc6-d3b7-4d4e-a9a2-e773b908b5cf','weather','WeatherAgent','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','{"weather":{"location_label":"Singapore (approx.)","timezone":"Asia/Singapore","current_time":"1am","current":{"temperature":24.8,"apparent_temperature":30.1,"humidity":94,"precipitation":0,"wind_speed":4.2,"weather_code":3},"detail":"Feels like 30¬∞C","rating_now":"Fair","hours":[{"time":"2am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":93,"dew_point":23.6,"wind_speed":3.7,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"3am","score":55,"label":"Poor","details":{"temperature":24.7,"humidity":93,"dew_point":23.5,"wind_speed":3.8,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"4am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":3.1,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"5am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":2.5,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"6am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":94,"dew_point":23.5,"wind_speed":2.2,"precip_prob":0,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"7am","score":55,"label":"Poor","details":{"temperature":24.4,"humidity":94,"dew_point":23.4,"wind_speed":2.5,"precip_prob":3,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"8am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":93,"dew_point":23.3,"wind_speed":2.3,"precip_prob":0,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"9am","score":40,"label":"Poor","details":{"temperature":25.3,"humidity":90,"dew_point":23.6,"wind_speed":5.1,"precip_prob":0,"precipitation":0},"reason":"warm 25¬∞C / humid 90% / dew 23¬∞C"},{"time":"10am","score":47,"label":"Fair","details":{"temperature":26.4,"humidity":83,"dew_point":23.3,"wind_speed":10.9,"precip_prob":0,"precipitation":0},"reason":"warm 26¬∞C / humid 83% / dew 23¬∞C"},{"time":"11am","score":47,"label":"Fair","details":{"temperature":27.5,"humidity":77,"dew_point":23.1,"wind_speed":13.3,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 77% / dew 23¬∞C"},{"time":"12pm","score":47,"label":"Fair","details":{"temperature":27.6,"humidity":76,"dew_point":23,"wind_speed":14.1,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 76% / dew 23¬∞C"},{"time":"1pm","score":45,"label":"Fair","details":{"temperature":28.5,"humidity":73,"dew_point":23.2,"wind_speed":15.5,"precip_prob":0,"precipitation":0},"reason":"breezy 15 km/h / warm 28¬∞C / dew 23¬∞C"}],"summary":"Mixed running conditions expected over the next few hours.","recommendation":"Consider a shorter run or adjust pace based on comfort.","attribution":"Weather data by Open-Meteo.com","needs_location_confirm":false}}','2026-02-19 17:18:44');
INSERT INTO analysis_cache VALUES('dfb46728-9b6e-4bee-b5b3-9177ca866365','941349cc-f2cd-4636-8cd7-70c59e4853d4','weather','WeatherAgent','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','{"weather":{"location_label":"Singapore (approx.)","timezone":"Asia/Singapore","current_time":"1am","current":{"temperature":24.8,"apparent_temperature":30.1,"humidity":94,"precipitation":0,"wind_speed":4.2,"weather_code":3},"detail":"Feels like 30¬∞C","rating_now":"Fair","hours":[{"time":"2am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":93,"dew_point":23.6,"wind_speed":3.7,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"3am","score":55,"label":"Poor","details":{"temperature":24.7,"humidity":93,"dew_point":23.5,"wind_speed":3.8,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"4am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":3.1,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"5am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":2.5,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"6am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":94,"dew_point":23.5,"wind_speed":2.2,"precip_prob":0,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"7am","score":55,"label":"Poor","details":{"temperature":24.4,"humidity":94,"dew_point":23.4,"wind_speed":2.5,"precip_prob":3,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"8am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":93,"dew_point":23.3,"wind_speed":2.3,"precip_prob":0,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"9am","score":40,"label":"Poor","details":{"temperature":25.3,"humidity":90,"dew_point":23.6,"wind_speed":5.1,"precip_prob":0,"precipitation":0},"reason":"warm 25¬∞C / humid 90% / dew 23¬∞C"},{"time":"10am","score":47,"label":"Fair","details":{"temperature":26.4,"humidity":83,"dew_point":23.3,"wind_speed":10.9,"precip_prob":0,"precipitation":0},"reason":"warm 26¬∞C / humid 83% / dew 23¬∞C"},{"time":"11am","score":47,"label":"Fair","details":{"temperature":27.5,"humidity":77,"dew_point":23.1,"wind_speed":13.3,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 77% / dew 23¬∞C"},{"time":"12pm","score":47,"label":"Fair","details":{"temperature":27.6,"humidity":76,"dew_point":23,"wind_speed":14.1,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 76% / dew 23¬∞C"},{"time":"1pm","score":45,"label":"Fair","details":{"temperature":28.5,"humidity":73,"dew_point":23.2,"wind_speed":15.5,"precip_prob":0,"precipitation":0},"reason":"breezy 15 km/h / warm 28¬∞C / dew 23¬∞C"}],"summary":"Mixed running conditions expected over the next few hours.","recommendation":"Consider a shorter run or adjust pace based on comfort.","attribution":"Weather data by Open-Meteo.com","needs_location_confirm":false}}','2026-02-19 17:21:48');
INSERT INTO analysis_cache VALUES('b5e316fc-11fa-491a-be25-8121f4b921bf','941349cc-f2cd-4636-8cd7-70c59e4853d4','last_run','Agent 1 - Current Run Analyzer',replace('## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing throughout: consistent splits with a slight negative split in the second half\n- Pacing**: consistent pacing with a slight negative split, showing good energy management\n- Heart rate control: average hr of 145 bpm indicates effective effort management\n\n## üéØ Key Metrics\n- **Te control**: average hr of 145 bpm indicates effective effort management\n- **Training effect****: 4.2 - indicates a productive workout that builds endurance\n- **Te****: 145/175 bpm - appropriate for a moderate effort run\n- **Heart rate control**: average hr of 145 bpm indicates effective effort management\n\n## üí° Coaching Points\n- Temperatures rise, to maintain performance levels\n- Pacing throughout: consistent splits with a slight negative split in the second half\n- Pacing**: consistent pacing with a slight negative split, showing good energy management\n\n## üîß Recommendations\n- Consider incorporating more varied terrain or intervals in future sessions to challenge your pacing and heart rate further\n- Recommendations\n- continue to focus on maintaining that cadence; if you can push it slightly higher during faster workouts, it may enhance your efficiency\n\n---\n**Bottom Line**: Good heart rate control: average hr of 145 bpm indicates effective effort management üí™','\n',char(10)),'{"charts":[{"id":"pace_consistency","type":"bar","title":"Pace Consistency (% vs Average)","xLabels":["1.0k","2.0k","3.0k","4.0k","5.0k","6.0k","7.0k","8.0k","8.0k"],"yLabel":"% deviation","series":[{"label":"Pace Deviation","data":[13.8,-2,-2.9,-0.7,4.3,-3.2,-0.4,-0.1,-8.7],"colors":["#ef4444","#10b981","#10b981","#10b981","#10b981","#10b981","#10b981","#10b981","#f59e0b"],"unit":"%"}],"note":"Avg: 5.62 min/km | Green: ¬±5%, Orange: ¬±10%, Red: >10%"},{"id":"split_analysis","type":"bar","title":"Split Analysis (First vs Second Half)","xLabels":["First Half","Second Half"],"yLabel":"min/km","series":[{"label":"Avg Pace","data":[5.74,5.53],"colors":["#3b82f6","#8b5cf6"],"unit":"min/km"}],"note":"Negative split: 3.6% faster in 2nd half"},{"id":"hr_response","type":"line","title":"Heart Rate Response","xLabels":["1.0k","2.0k","3.0k","4.0k","5.0k","6.0k","7.0k","8.0k","8.0k"],"yLabel":"bpm","series":[{"label":"Heart Rate","data":[126,138,141,136,143,155,160,166,160],"color":"#ef4444","unit":"bpm"}],"note":"Avg HR: 147 bpm | Max: 166 bpm"},{"id":"effort_distribution","type":"bar","title":"Effort Distribution by KM","xLabels":["1.0k","2.0k","3.0k","4.0k","5.0k","6.0k","7.0k","8.0k","8.0k"],"yLabel":"Effort Score","series":[{"label":"Effort","data":[60.8,65.7,66,65.3,63.6,66.2,65.1,65,68.3],"color":"#00D4AA","unit":"score"}],"note":"Higher score = higher effort relative to your average"}]}','2026-02-19 17:22:51');
INSERT INTO analysis_cache VALUES('50807a37-5eb0-4805-a2df-df11ab504822','4fb172cb-b716-4821-980f-2e7f226d4192','weather','WeatherAgent','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','{"weather":{"location_label":"Singapore (approx.)","timezone":"Asia/Singapore","current_time":"1am","current":{"temperature":24.8,"apparent_temperature":30.1,"humidity":94,"precipitation":0,"wind_speed":4.2,"weather_code":3},"detail":"Feels like 30¬∞C","rating_now":"Fair","hours":[{"time":"2am","score":55,"label":"Poor","details":{"temperature":24.8,"humidity":93,"dew_point":23.6,"wind_speed":3.7,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"3am","score":55,"label":"Poor","details":{"temperature":24.7,"humidity":93,"dew_point":23.5,"wind_speed":3.8,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"4am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":3.1,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"5am","score":55,"label":"Poor","details":{"temperature":24.6,"humidity":93,"dew_point":23.4,"wind_speed":2.5,"precip_prob":5,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"6am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":94,"dew_point":23.5,"wind_speed":2.2,"precip_prob":0,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"7am","score":55,"label":"Poor","details":{"temperature":24.4,"humidity":94,"dew_point":23.4,"wind_speed":2.5,"precip_prob":3,"precipitation":0},"reason":"humid 94% / dew 23¬∞C"},{"time":"8am","score":55,"label":"Poor","details":{"temperature":24.5,"humidity":93,"dew_point":23.3,"wind_speed":2.3,"precip_prob":0,"precipitation":0},"reason":"humid 93% / dew 23¬∞C"},{"time":"9am","score":40,"label":"Poor","details":{"temperature":25.3,"humidity":90,"dew_point":23.6,"wind_speed":5.1,"precip_prob":0,"precipitation":0},"reason":"warm 25¬∞C / humid 90% / dew 23¬∞C"},{"time":"10am","score":47,"label":"Fair","details":{"temperature":26.4,"humidity":83,"dew_point":23.3,"wind_speed":10.9,"precip_prob":0,"precipitation":0},"reason":"warm 26¬∞C / humid 83% / dew 23¬∞C"},{"time":"11am","score":47,"label":"Fair","details":{"temperature":27.5,"humidity":77,"dew_point":23.1,"wind_speed":13.3,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 77% / dew 23¬∞C"},{"time":"12pm","score":47,"label":"Fair","details":{"temperature":27.6,"humidity":76,"dew_point":23,"wind_speed":14.1,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 76% / dew 23¬∞C"},{"time":"1pm","score":45,"label":"Fair","details":{"temperature":28.5,"humidity":73,"dew_point":23.2,"wind_speed":15.5,"precip_prob":0,"precipitation":0},"reason":"breezy 15 km/h / warm 28¬∞C / dew 23¬∞C"}],"summary":"Mixed running conditions expected over the next few hours.","recommendation":"Consider a shorter run or adjust pace based on comfort.","attribution":"Weather data by Open-Meteo.com","needs_location_confirm":false}}','2026-02-19 17:25:25');
INSERT INTO analysis_cache VALUES('6228ba30-a99c-4d29-9bd3-21ec87c83c1c','4fb172cb-b716-4821-980f-2e7f226d4192','general','Coach Q&A Agent - Context Aware',replace('Given your recent running history and the mixed conditions expected, I recommend the following for your next run:\n\n1. **Run Type**: Easy Run\n2. **Distance**: Aim for about 5 km. This aligns well with your average run distance and allows for a comfortable effort.\n3. **Pace**: Target an easy pace around 5:40 to 6:00 min/km. This should help you recover while still providing a solid workout.\n4. **Weather Adjustment**: If the conditions feel particularly challenging, consider reducing the distance to around 4 km.\n\nThis approach balances your recent training, maintains consistency, and supports injury prevention while adapting to the current weather conditions.\n\nKeep up the great work, and remember to listen to your body during the run!\n\nConfidence: profile-based.','\n',char(10)),NULL,'2026-02-19 17:34:11');
INSERT INTO analysis_cache VALUES('41ba05d5-0aa6-4c1c-824b-02606f5ffe35','4fb172cb-b716-4821-980f-2e7f226d4192','last_run','Agent 1 - Current Run Analyzer',replace('## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing: consistent splits with a slight negative split in the second half\n- Pacing strategy, but aim for more consistency in the first half to set a stronger foundation\n- Heart rate management: average hr of 145 bpm indicates a controlled effort\n\n## üéØ Key Metrics\n- **Te management**: average hr of 145 bpm indicates a controlled effort\n- **Training effect****: 4.2 - indicates a productive workout that builds endurance\n- **Te****: 145/175 bpm - appropriate for a moderate to hard effort\n- Te rose steadily, peaking at 175 bpm, which is fine for this effort but keep an eye on hydration and fatigue levels, especially in warmer conditions\n\n## üí° Coaching Points\n- Fatigue levels, especially in warmer conditions\n- Recovery following this session, as the high training effect suggests a need for rest before your next quality workout\n- Pacing: consistent splits with a slight negative split in the second half\n\n## üîß Recommendations\n- Recommendations\n- consider incorporating more tempo runs to help improve your pacing consistency and endurance at faster speeds\n- Hydration and fatigue levels, especially in warmer conditions\n\n---\n**Bottom Line**: Solid heart rate management: average hr of 145 bpm indicates a controlled effort üí™','\n',char(10)),'{"charts":[{"id":"pace_consistency","type":"bar","title":"Pace Consistency (% vs Average)","xLabels":["1.0k","2.0k","3.0k","4.0k","5.0k","6.0k","7.0k","8.0k","8.0k"],"yLabel":"% deviation","series":[{"label":"Pace Deviation","data":[13.8,-2,-2.9,-0.7,4.3,-3.2,-0.4,-0.1,-8.7],"colors":["#ef4444","#10b981","#10b981","#10b981","#10b981","#10b981","#10b981","#10b981","#f59e0b"],"unit":"%"}],"note":"Avg: 5.62 min/km | Green: ¬±5%, Orange: ¬±10%, Red: >10%"},{"id":"split_analysis","type":"bar","title":"Split Analysis (First vs Second Half)","xLabels":["First Half","Second Half"],"yLabel":"min/km","series":[{"label":"Avg Pace","data":[5.74,5.53],"colors":["#3b82f6","#8b5cf6"],"unit":"min/km"}],"note":"Negative split: 3.6% faster in 2nd half"},{"id":"hr_response","type":"line","title":"Heart Rate Response","xLabels":["1.0k","2.0k","3.0k","4.0k","5.0k","6.0k","7.0k","8.0k","8.0k"],"yLabel":"bpm","series":[{"label":"Heart Rate","data":[126,138,141,136,143,155,160,166,160],"color":"#ef4444","unit":"bpm"}],"note":"Avg HR: 147 bpm | Max: 166 bpm"},{"id":"effort_distribution","type":"bar","title":"Effort Distribution by KM","xLabels":["1.0k","2.0k","3.0k","4.0k","5.0k","6.0k","7.0k","8.0k","8.0k"],"yLabel":"Effort Score","series":[{"label":"Effort","data":[60.8,65.7,66,65.3,63.6,66.2,65.1,65,68.3],"color":"#00D4AA","unit":"score"}],"note":"Higher score = higher effort relative to your average"}]}','2026-02-19 17:35:37');
INSERT INTO analysis_cache VALUES('cf78e06a-6930-4933-867f-a1b7237a956c','f9c6a9d0-e134-4173-ba0f-46f2fc2e3c1f','weather','WeatherAgent','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','{"weather":{"location_label":"Singapore (approx.)","timezone":"Asia/Singapore","current_time":"11am","current":{"temperature":27.5,"apparent_temperature":31.7,"humidity":77,"precipitation":0,"wind_speed":9.6,"weather_code":3},"detail":"Dew point 23¬∞C ¬∑ Feels like 31¬∞C","rating_now":"Fair","hours":[{"time":"11am","score":47,"label":"Fair","details":{"temperature":27.5,"humidity":77,"dew_point":23.1,"wind_speed":9.6,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 77% / dew 23¬∞C"},{"time":"12pm","score":55,"label":"Fair","details":{"temperature":28.8,"humidity":71,"dew_point":23,"wind_speed":12.1,"precip_prob":0,"precipitation":0},"reason":"warm 28¬∞C / dew 23¬∞C"},{"time":"1pm","score":55,"label":"Fair","details":{"temperature":29.8,"humidity":66,"dew_point":22.7,"wind_speed":13.8,"precip_prob":0,"precipitation":0},"reason":"warm 29¬∞C / dew 22¬∞C"},{"time":"2pm","score":35,"label":"Poor","details":{"temperature":30.4,"humidity":63,"dew_point":22.5,"wind_speed":15,"precip_prob":0,"precipitation":0},"reason":"breezy 15 km/h / hot 30¬∞C / dew 22¬∞C"},{"time":"3pm","score":35,"label":"Poor","details":{"temperature":30.2,"humidity":64,"dew_point":22.6,"wind_speed":16.3,"precip_prob":0,"precipitation":0},"reason":"breezy 16 km/h / hot 30¬∞C / dew 22¬∞C"},{"time":"4pm","score":45,"label":"Fair","details":{"temperature":30,"humidity":64,"dew_point":22.4,"wind_speed":15.9,"precip_prob":0,"precipitation":0},"reason":"breezy 15 km/h / warm 30¬∞C / dew 22¬∞C"},{"time":"5pm","score":45,"label":"Fair","details":{"temperature":29.5,"humidity":66,"dew_point":22.4,"wind_speed":15.7,"precip_prob":0,"precipitation":0},"reason":"breezy 15 km/h / warm 29¬∞C / dew 22¬∞C"},{"time":"6pm","score":55,"label":"Fair","details":{"temperature":28.5,"humidity":70,"dew_point":22.5,"wind_speed":14.7,"precip_prob":0,"precipitation":0},"reason":"warm 28¬∞C / dew 22¬∞C"},{"time":"7pm","score":47,"label":"Fair","details":{"temperature":27.4,"humidity":76,"dew_point":22.8,"wind_speed":12.4,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 76% / dew 22¬∞C"},{"time":"8pm","score":47,"label":"Fair","details":{"temperature":26.4,"humidity":81,"dew_point":22.8,"wind_speed":9.4,"precip_prob":0,"precipitation":0},"reason":"warm 26¬∞C / humid 81% / dew 22¬∞C"},{"time":"9pm","score":40,"label":"Poor","details":{"temperature":25.7,"humidity":86,"dew_point":23.1,"wind_speed":7.9,"precip_prob":0,"precipitation":0},"reason":"warm 25¬∞C / humid 86% / dew 23¬∞C"},{"time":"10pm","score":40,"label":"Poor","details":{"temperature":25.3,"humidity":88,"dew_point":23.1,"wind_speed":6,"precip_prob":0,"precipitation":0},"reason":"warm 25¬∞C / humid 88% / dew 23¬∞C"}],"summary":"Mixed running conditions expected over the next few hours.","recommendation":"Consider a shorter run or adjust pace based on comfort.","attribution":"Weather data by Open-Meteo.com","needs_location_confirm":false}}','2026-02-20 03:03:49');
INSERT INTO analysis_cache VALUES('e4fc0d77-5791-4d9b-a692-e3af7d222b7f','f9c6a9d0-e134-4173-ba0f-46f2fc2e3c1f','last_run','Agent 1 - Current Run Analyzer',replace('## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing across laps, with only slight variations, showing good energy management\n- Pacing**: consistent splits with a slight increase in pace towards the end, showcasing good pacing discipline\n- Pacing was well-executed, especially maintaining a strong effort throughout the run\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- strong average pace of 5**: 40/km, indicating a good level of fitness and endurance\n- **Training effect****: 4.2 - indicates a highly productive session that builds endurance\n- **Te****: 145 bpm avg, 175 bpm max - appropriate for a moderate effort run\n- Te response was appropriate for the intensity, but be mindful of the max hr nearing 175 bpm; ensure adequate recovery\n\n## üí° Coaching Points\n- Temperatures rise, to support performance and recovery\n- Pacing across laps, with only slight variations, showing good energy management\n- Pacing**: consistent splits with a slight increase in pace towards the end, showcasing good pacing discipline\n\n## üîß Recommendations\n- Recommendations\n- continue to incorporate varied workouts to build both endurance and speed, focusing on maintaining that strong pace\n- Consider adding some interval training to further enhance speed and aerobic capacity\n\n---\n**Bottom Line**: Solid moderate-effort training run\n\n## ‚úÖ strengths\n- strong average pace of 5:40/km, indicating a good level of fitness and endurance üí™','\n',char(10)),'{"charts":[{"id":"pace_consistency","type":"bar","title":"Pace Consistency (% vs Average)","xLabels":["1.0k","2.0k","3.0k","4.0k","5.0k","6.0k","7.0k","8.0k","8.0k"],"yLabel":"% deviation","series":[{"label":"Pace Deviation","data":[13.8,-2,-2.9,-0.7,4.3,-3.2,-0.4,-0.1,-8.7],"colors":["#ef4444","#10b981","#10b981","#10b981","#10b981","#10b981","#10b981","#10b981","#f59e0b"],"unit":"%"}],"note":"Avg: 5.62 min/km | Green: ¬±5%, Orange: ¬±10%, Red: >10%"},{"id":"split_analysis","type":"bar","title":"Split Analysis (First vs Second Half)","xLabels":["First Half","Second Half"],"yLabel":"min/km","series":[{"label":"Avg Pace","data":[5.74,5.53],"colors":["#3b82f6","#8b5cf6"],"unit":"min/km"}],"note":"Negative split: 3.6% faster in 2nd half"},{"id":"hr_response","type":"line","title":"Heart Rate Response","xLabels":["1.0k","2.0k","3.0k","4.0k","5.0k","6.0k","7.0k","8.0k","8.0k"],"yLabel":"bpm","series":[{"label":"Heart Rate","data":[126,138,141,136,143,155,160,166,160],"color":"#ef4444","unit":"bpm"}],"note":"Avg HR: 147 bpm | Max: 166 bpm"},{"id":"effort_distribution","type":"bar","title":"Effort Distribution by KM","xLabels":["1.0k","2.0k","3.0k","4.0k","5.0k","6.0k","7.0k","8.0k","8.0k"],"yLabel":"Effort Score","series":[{"label":"Effort","data":[60.8,65.7,66,65.3,63.6,66.2,65.1,65,68.3],"color":"#00D4AA","unit":"score"}],"note":"Higher score = higher effort relative to your average"}]}','2026-02-20 03:04:51');
INSERT INTO analysis_cache VALUES('019e1f5e-c6a7-40a9-b6fb-7b8d515ec8bb','97b1f355-f5c5-443e-b15d-b8326d789515','weather','WeatherAgent','Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.','{"weather":{"location_label":"Singapore (approx.)","timezone":"Asia/Singapore","current_time":"11am","current":{"temperature":27.9,"apparent_temperature":32.3,"humidity":75,"precipitation":0,"wind_speed":10.4,"weather_code":3},"detail":"Feels like 32¬∞C","rating_now":"Fair","hours":[{"time":"12pm","score":55,"label":"Fair","details":{"temperature":28.8,"humidity":71,"dew_point":23,"wind_speed":12.1,"precip_prob":0,"precipitation":0},"reason":"warm 28¬∞C / dew 23¬∞C"},{"time":"1pm","score":55,"label":"Fair","details":{"temperature":29.8,"humidity":66,"dew_point":22.7,"wind_speed":13.8,"precip_prob":0,"precipitation":0},"reason":"warm 29¬∞C / dew 22¬∞C"},{"time":"2pm","score":35,"label":"Poor","details":{"temperature":30.4,"humidity":63,"dew_point":22.5,"wind_speed":15,"precip_prob":0,"precipitation":0},"reason":"breezy 15 km/h / hot 30¬∞C / dew 22¬∞C"},{"time":"3pm","score":35,"label":"Poor","details":{"temperature":30.2,"humidity":64,"dew_point":22.6,"wind_speed":16.3,"precip_prob":0,"precipitation":0},"reason":"breezy 16 km/h / hot 30¬∞C / dew 22¬∞C"},{"time":"4pm","score":45,"label":"Fair","details":{"temperature":30,"humidity":64,"dew_point":22.4,"wind_speed":15.9,"precip_prob":0,"precipitation":0},"reason":"breezy 15 km/h / warm 30¬∞C / dew 22¬∞C"},{"time":"5pm","score":45,"label":"Fair","details":{"temperature":29.5,"humidity":66,"dew_point":22.4,"wind_speed":15.7,"precip_prob":0,"precipitation":0},"reason":"breezy 15 km/h / warm 29¬∞C / dew 22¬∞C"},{"time":"6pm","score":55,"label":"Fair","details":{"temperature":28.5,"humidity":70,"dew_point":22.5,"wind_speed":14.7,"precip_prob":0,"precipitation":0},"reason":"warm 28¬∞C / dew 22¬∞C"},{"time":"7pm","score":47,"label":"Fair","details":{"temperature":27.4,"humidity":76,"dew_point":22.8,"wind_speed":12.4,"precip_prob":0,"precipitation":0},"reason":"warm 27¬∞C / humid 76% / dew 22¬∞C"},{"time":"8pm","score":47,"label":"Fair","details":{"temperature":26.4,"humidity":81,"dew_point":22.8,"wind_speed":9.4,"precip_prob":0,"precipitation":0},"reason":"warm 26¬∞C / humid 81% / dew 22¬∞C"},{"time":"9pm","score":40,"label":"Poor","details":{"temperature":25.7,"humidity":86,"dew_point":23.1,"wind_speed":7.9,"precip_prob":0,"precipitation":0},"reason":"warm 25¬∞C / humid 86% / dew 23¬∞C"},{"time":"10pm","score":40,"label":"Poor","details":{"temperature":25.3,"humidity":88,"dew_point":23.1,"wind_speed":6,"precip_prob":0,"precipitation":0},"reason":"warm 25¬∞C / humid 88% / dew 23¬∞C"},{"time":"11pm","score":40,"label":"Poor","details":{"temperature":25.1,"humidity":89,"dew_point":23.2,"wind_speed":4,"precip_prob":0,"precipitation":0},"reason":"warm 25¬∞C / humid 89% / dew 23¬∞C"}],"summary":"Mixed running conditions expected over the next few hours.","recommendation":"Consider a shorter run or adjust pace based on comfort.","attribution":"Weather data by Open-Meteo.com","needs_location_confirm":false}}','2026-02-20 03:24:24');
INSERT INTO analysis_cache VALUES('74e817f9-175e-42c3-a38f-d413ae2b1e46','97b1f355-f5c5-443e-b15d-b8326d789515','last_run','Agent 1 - Current Run Analyzer',replace('## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing**: consistent pacing with a slight progression towards the end, demonstrating good energy management\n- Cadence maintained well at 167 spm, which is within the target range for efficiency\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- good pacing consistency**: splits range from 6:40 to 5:44, showing a solid effort throughout the run\n- **Te management**: average hr of 145 bpm indicates you maintained a productive effort level\n- **Training effect****: 4.2 - indicates a highly productive aerobic session\n- **Te****: 145/175 bpm - appropriate for a moderate effort run\n\n## üí° Coaching Points\n- Drift is normal, but be aware of hydration and fatigue\n- Recovery run or easy day following this session, as the training effect indicates a significant load\n- Pacing consistency: splits range from 6:40 to 5:44, showing a solid effort throughout the run\n\n## üîß Recommendations\n- Considering the duration of the run; keep pushing this pace in your training\n- Consider incorporating some negative splits in future runs to enhance your finishing strength\n\n---\n**Bottom Line**: Good pacing consistency: splits range from 6:40 to 5:44, showing a solid effort throughout the run üí™','\n',char(10)),'{"charts":[{"id":"pace_consistency","type":"bar","title":"Pace Consistency (% vs Average)","xLabels":["1.0k","2.0k","3.0k","4.0k","5.0k","6.0k","7.0k","8.0k","8.0k"],"yLabel":"% deviation","series":[{"label":"Pace Deviation","data":[13.8,-2,-2.9,-0.7,4.3,-3.2,-0.4,-0.1,-8.7],"colors":["#ef4444","#10b981","#10b981","#10b981","#10b981","#10b981","#10b981","#10b981","#f59e0b"],"unit":"%"}],"note":"Avg: 5.62 min/km | Green: ¬±5%, Orange: ¬±10%, Red: >10%"},{"id":"split_analysis","type":"bar","title":"Split Analysis (First vs Second Half)","xLabels":["First Half","Second Half"],"yLabel":"min/km","series":[{"label":"Avg Pace","data":[5.74,5.53],"colors":["#3b82f6","#8b5cf6"],"unit":"min/km"}],"note":"Negative split: 3.6% faster in 2nd half"},{"id":"hr_response","type":"line","title":"Heart Rate Response","xLabels":["1.0k","2.0k","3.0k","4.0k","5.0k","6.0k","7.0k","8.0k","8.0k"],"yLabel":"bpm","series":[{"label":"Heart Rate","data":[126,138,141,136,143,155,160,166,160],"color":"#ef4444","unit":"bpm"}],"note":"Avg HR: 147 bpm | Max: 166 bpm"},{"id":"effort_distribution","type":"bar","title":"Effort Distribution by KM","xLabels":["1.0k","2.0k","3.0k","4.0k","5.0k","6.0k","7.0k","8.0k","8.0k"],"yLabel":"Effort Score","series":[{"label":"Effort","data":[60.8,65.7,66,65.3,63.6,66.2,65.1,65,68.3],"color":"#00D4AA","unit":"score"}],"note":"Higher score = higher effort relative to your average"}]}','2026-02-20 03:25:21');
CREATE TABLE schema_version (
    version TEXT PRIMARY KEY,
    applied_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    description TEXT
);
INSERT INTO schema_version VALUES('1.0.0','2026-02-19 16:01:53','Initial schema with users, activities, fitness metrics, analysis reports, training plans, and agent logs');
CREATE TABLE persona_profiles (
        conversation_id TEXT PRIMARY KEY,
        profile_json TEXT NOT NULL,
        runner_history TEXT,
        runner_proficiency TEXT NOT NULL DEFAULT 'beginner',
        proficiency_score REAL NOT NULL DEFAULT 25,
        last_refreshed_at TIMESTAMP,
        proficiency_updated_at TIMESTAMP,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        FOREIGN KEY (conversation_id) REFERENCES conversations(id) ON DELETE CASCADE
      );
INSERT INTO persona_profiles VALUES('849d9e10-8924-4490-a817-559fe4ebf2b0','{"updated_at":"2026-02-19T16:15:49.167Z","tags":[]}',NULL,'beginner',20.0,NULL,'2026-02-19T16:15:49.167Z','2026-02-19 16:15:39','2026-02-19 16:15:49');
INSERT INTO persona_profiles VALUES('baef7ec5-0fac-4add-aeb2-e43ab99d095f','{"updated_at":"2026-02-19T16:39:43.515Z","tags":["marathon","half marathon","progress","plan"]}','{"summary":"### üìä Training Volume & Consistency\n- **Total Distance**: 43.06 km (8 runs)\n- **Average Distance per Run**: 5.38 km\n- **Total Duration**: 4 hours 16 minutes (256 minutes)\n- **Average Duration per Run**: 32 minutes\n- **Consistency Assessment**: The runner has maintained a relatively consistent frequency of running, averaging about 3-4 runs per week. However, the distances vary significantly, with some runs being much longer than others.\n- **Volume Progression Safety**: No significant spikes in volume were observed, but the variability in distances indicates potential inconsistency in training load.\n\n### üéØ Intensity Distribution Analysis\n- **Current Easy/Hard Split**: The majority of runs are at moderate to hard intensities, with several runs exceeding the ideal easy pace.\n  - **Easy Runs**: 2 runs (average pace ~6:41 min/km)\n  - **Hard Runs**: 6 runs (average pace ~5:45 min/km)\n- **Heart Rate Zone Distribution**: \n  - Average HR across runs: 144 bpm\n  - High average HR indicates a tendency towards harder efforts.\n- **Identification of \"Gray Zone\" Running**: \n  - Several runs fall into the 75-85% max HR range, indicating a risk of overtraining and insufficient recovery.\n- **Pace Variability Assessment**: There is a lack of variety in pacing, with many runs clustering around moderate to hard efforts.\n\n### üíì Heart Rate Patterns\n- **Average HR Trends**: The average HR is consistently high, with some runs peaking at 178 bpm. This suggests that the runner is frequently operating at or near threshold levels.\n- **Zone Distribution**: \n  - Most runs are performed in higher HR zones (Zone 3 and above), indicating insufficient recovery and a lack of easy runs.\n- **HR Drift Patterns**: The runner shows signs of potential fatigue with elevated HRs at similar paces across different runs.\n- **Fitness Indicators**: There is little evidence of improved fitness, as the same pace is maintained at higher HRs.\n\n### üèÉ Running Form Assessment\n- **Cadence Trends**: \n  - Average cadence across runs: ~164 spm, which is below the ideal range (170-180 spm). \n  - This suggests potential overstriding and higher impact forces.\n- **Vertical Oscillation Patterns**: Data not provided, but generally, a higher vertical oscillation could indicate inefficiencies.\n- **Ground Contact Time Analysis**: Data not provided, but longer ground contact times could indicate slower force application.\n- **Form Efficiency Indicators**: The runner may benefit from focusing on improving cadence and minimizing vertical oscillation.\n\n### ‚ö° Training Load & Recovery\n- **Training Effect Distribution**: \n  - Training Effects range from 3.0 to 4.2, indicating a mix of maintaining and improving fitness. However, consistently high TE (>4.0) can lead to overtraining.\n- **Load Progression (Acute vs Chronic)**: \n  - The acute load appears to be increasing without adequate recovery, which could lead to injury.\n- **Recovery Adequacy Between Efforts**: The runner should ensure at least 48 hours of recovery between high-intensity sessions, which is not consistently observed.\n- **Overtraining Risk Assessment**: High average HR and training effects suggest a risk of overtraining.\n\n### üîç Pattern Recognition\n- **Identify Specific Training Patterns**: \n  - The runner is exhibiting signs of the \"Gray Zone Trap\" with many runs at moderate to hard intensity without sufficient easy runs.\n- **Highlight Positive Trends**: \n  - Consistent running frequency and some variation in distances.\n- **Flag Concerning Patterns**: \n  - High average HR and lack of easy runs indicate potential overtraining and insufficient recovery.\n\n### üéØ Race Readiness Assessment\n- **10K**: 6/10 - The runner has sufficient volume but needs to incorporate more easy runs for recovery.\n- **Half Marathon**: 5/10 - Inconsistent training load and high intensity may hinder performance.\n- **Marathon**: 4/10 - Current training patterns are not conducive to marathon readiness; more focus on endurance and recovery is needed.\n\n### üí° Coaching Recommendations\n1. **Immediate Adjustments**: Incorporate at least 1-2 easy runs per week at a conversational pace to reduce overall intensity and allow for recovery.\n2. **Training Balance**: Aim for a more balanced intensity distribution, targeting 80% of runs in Zone 2 (easy) and 20% in moderate to hard efforts.\n3. **Specific Workout Prescriptions**: \n   - Easy run pace: 6:30-7:00 min/km\n   - Hard workout structure: Include intervals or tempo runs once a week, ensuring adequate recovery (48+ hours) afterward.\n4. **Form Improvements**: Focus on drills to increase cadence (aim for 170-180 spm) and reduce overstriding. Consider strength training to enhance running economy.\n5. **Progression Plan**: Over the next 2-4 weeks, gradually increase the volume of easy runs while maintaining the current hard efforts, ensuring to monitor HR and fatigue levels closely. \n\nBy implementing these recommendations, the runner can improve their training effectiveness, reduce injury risk, and enhance overall performance.","charts":[{"id":"pace_last_runs","type":"line","title":"Average Pace (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"min/km","series":[{"label":"Pace","data":[5.681631905873347,4.903605569060424,5.622849016165211,6.686253069732911,6.170096715612845,6.161543766560743,6.282208892584235,5.210039559499626],"color":"#4f46e5"}]},{"id":"hr_last_runs","type":"line","title":"Average Heart Rate (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"bpm","series":[{"label":"Avg HR","data":[145,151,143,128,128,161,138,136],"color":"#ef4444"}]},{"id":"cadence_last_runs","type":"line","title":"Average Cadence (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"spm","series":[{"label":"Cadence","data":[167.125,160.03125,161.296875,161.875,164.59375,163.421875,166.203125,164.8125],"color":"#10b981"}]},{"id":"distance_last_runs","type":"line","title":"Distance (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"km","series":[{"label":"Distance","data":[8.011899999999999,5.05579,5.00643,8.404639999999999,5.24045,5.0508500000000005,5.051399999999999,4.6765],"color":"#f97316"}]}]}','intermediate',44.0,'2026-02-19T16:29:21.318Z','2026-02-19T16:39:43.515Z','2026-02-19 16:27:28','2026-02-19 16:39:43');
INSERT INTO persona_profiles VALUES('aabc483f-f1a8-4fb5-9647-d828f8e99487','{"updated_at":"2026-02-19T16:31:23.174Z","tags":[],"stats":{}}','{"summary":"### üìä Training Volume & Consistency\n- **Total Distance**: 43.06 km over 8 runs (average 5.38 km/run).\n- **Frequency**: 8 runs in a short period, indicating a relatively high frequency.\n- **Week-over-week trends**: No specific week-over-week data provided, but the total volume shows a consistent running pattern.\n- **Consistency assessment**: The runner has maintained a good frequency of workouts, but the distances vary significantly from 4.68 km to 8.40 km, indicating a lack of uniformity in training volume.\n- **Volume progression safety**: The variability in distance suggests a potential risk of overtraining or injury if not managed properly, especially with the longer runs.\n\n### üéØ Intensity Distribution Analysis\n- **Current easy/hard split**: The average pace varies from 4:30 to 7:28 min/km, indicating a mix of easy and hard efforts. However, the majority of runs are on the moderate-hard side.\n- **Heart rate zone distribution**: Most runs have average HRs ranging from 128 bpm to 174 bpm, with several runs showing high average HRs, particularly in the last few activities.\n- **Identification of \"Gray Zone\" running**: The runner appears to be spending a significant amount of time in the moderate-hard intensity zone, particularly in the last few runs, which may indicate a \"Gray Zone\" trap.\n- **Pace variability assessment**: There is a noticeable lack of easy runs, which should ideally comprise 80% of the training volume.\n\n### üíì Heart Rate Patterns\n- **Average HR trends across runs**: Average HRs range from 128 bpm to 174 bpm, with the highest averages occurring in the shorter, faster runs.\n- **Zone distribution**: Most runs show a high percentage of time spent in Zone 2 and Zone 3, with some laps reaching Zone 4, indicating a mix of aerobic and anaerobic efforts.\n- **HR drift patterns**: There is a risk of overtraining as indicated by the consistently high average HRs, especially in the last few runs.\n- **Fitness indicators**: The runner''s ability to maintain similar paces at higher HRs suggests a potential plateau in fitness improvement.\n\n### üèÉ Running Form Assessment\n- **Cadence trends and quality**: Average cadence ranges from 160 to 171 spm, which is within acceptable limits but on the lower side for optimal efficiency.\n- **Vertical oscillation patterns**: Not enough data provided to assess vertical oscillation directly, but the cadence suggests a potential for overstriding.\n- **Ground contact time analysis**: Not available, but the cadence suggests that ground contact time may be higher than ideal.\n- **Form efficiency indicators**: The runner may benefit from focusing on improving cadence to enhance running efficiency.\n\n### ‚ö° Training Load & Recovery\n- **Training Effect distribution**: Training Effects range from 3.0 to 4.2, indicating a mix of maintaining and improving fitness. However, consistently high TE values (>4.0) can indicate a risk of overtraining.\n- **Load progression (acute vs chronic)**: Without specific week-over-week load data, it''s difficult to assess the acute:chronic ratio, but the variability in distances suggests fluctuating training loads.\n- **Recovery adequacy between efforts**: There is a lack of easy runs or recovery days, which may lead to inadequate recovery between harder efforts.\n- **Overtraining risk assessment**: The high average HRs and lack of easy runs suggest a risk of overtraining.\n\n### üîç Pattern Recognition\n- **Identify specific training patterns**: The runner appears to be in a \"Chronic Racer\" pattern, with many runs at or near race pace, particularly in the shorter distances.\n- **Highlight positive trends**: The runner has maintained a consistent frequency of workouts, which is a positive sign.\n- **Flag concerning patterns**: The high average HRs and lack of easy runs indicate potential overtraining and a need for recovery.\n\n### üéØ Race Readiness Assessment\n- **10K**: 6/10 - The runner has the volume but lacks adequate recovery and easy runs.\n- **Half Marathon**: 5/10 - Similar concerns as the 10K, with insufficient long, easy runs to build endurance.\n- **Marathon**: 4/10 - The current training does not support marathon readiness due to high intensity and insufficient recovery.\n\n### üí° Coaching Recommendations\n1. **Immediate adjustments**: Incorporate more easy runs (Zone 2) into the training plan to reduce overall intensity and allow for recovery.\n2. **Training balance**: Aim for an 80/20 split in training intensity, ensuring that 80% of runs are easy and 20% are moderate-hard efforts.\n3. **Specific workout prescriptions**: Introduce structured easy runs at a conversational pace (e.g., 6:30-7:00 min/km) and limit hard workouts to 1-2 per week.\n4. **Form improvements**: Focus on drills to improve cadence (aim for 170-180 spm) and reduce overstriding.\n5. **Progression plan**: Gradually increase the long run distance while ensuring adequate recovery weeks, aiming for a 10% increase in volume per week.\n\nBy implementing these recommendations, the runner can enhance their performance while minimizing the risk of injury and overtraining.","charts":[{"id":"pace_last_runs","type":"line","title":"Average Pace (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"min/km","series":[{"label":"Pace","data":[5.681631905873347,4.903605569060424,5.622849016165211,6.686253069732911,6.170096715612845,6.161543766560743,6.282208892584235,5.210039559499626],"color":"#4f46e5"}]},{"id":"hr_last_runs","type":"line","title":"Average Heart Rate (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"bpm","series":[{"label":"Avg HR","data":[145,151,143,128,128,161,138,136],"color":"#ef4444"}]},{"id":"cadence_last_runs","type":"line","title":"Average Cadence (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"spm","series":[{"label":"Cadence","data":[167.125,160.03125,161.296875,161.875,164.59375,163.421875,166.203125,164.8125],"color":"#10b981"}]},{"id":"distance_last_runs","type":"line","title":"Distance (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"km","series":[{"label":"Distance","data":[8.011899999999999,5.05579,5.00643,8.404639999999999,5.24045,5.0508500000000005,5.051399999999999,4.6765],"color":"#f97316"}]}]}','beginner',20.0,'2026-02-19T16:33:05.740Z','2026-02-19T16:31:23.174Z','2026-02-19 16:31:23','2026-02-19 16:33:05');
INSERT INTO persona_profiles VALUES('5daac00a-ea24-4ec7-b2f9-3fc7dd762fcf','{"updated_at":"2026-02-19T16:34:14.721Z","tags":[],"stats":{}}','{"summary":"### üìä Training Volume & Consistency\n- **Total Distance**: 43.06 km (8 runs)\n- **Average Distance per Run**: 5.38 km\n- **Total Duration**: 309.4 minutes (5 hours and 9 minutes)\n- **Average Duration per Run**: 38.68 minutes\n- **Consistency Assessment**: The runner has maintained a relatively consistent frequency of runs, averaging about 1 run every 2-3 days over the past 8 activities.\n- **Volume Progression Safety**: There are no significant spikes in volume; however, the average distance per run is varied, indicating a mix of shorter and longer runs which can be beneficial for adaptation.\n\n### üéØ Intensity Distribution Analysis\n- **Current Easy/Hard Split**: The majority of runs are at moderate to hard intensity, with several runs showing high average heart rates (e.g., 161 bpm in Activity 6).\n- **Heart Rate Zone Distribution**: \n  - Zone 1: 3.6 minutes (approx. 1.2% of total time)\n  - Zone 2: Not clearly defined due to limited data.\n  - Zone 3: Majority of runs seem to fall into moderate-hard efforts.\n- **Identification of \"Gray Zone\" Running**: The runner appears to be frequently training in the moderate-hard zone (75-85% max HR), indicating a potential \"Gray Zone Trap.\" This is evident in Activities 2, 3, 6, and 7, where the average HR is consistently high.\n- **Pace Variability Assessment**: There is some variability in pace, but the majority of efforts are above 6:00 min/km, suggesting that easy runs may not be easy enough.\n\n### üíì Heart Rate Patterns\n- **Average HR Trends**: The average HR across runs ranges from 128 bpm to 161 bpm, indicating a tendency towards higher intensity efforts.\n- **Zone Distribution**: The runner spends most time in higher HR zones, particularly Zones 3 and 4, which may lead to overtraining if not balanced with adequate recovery.\n- **HR Drift Patterns**: Limited data on HR drift; however, consistently high average HR suggests potential fatigue or insufficient recovery.\n- **Fitness Indicators**: The runner''s pace at given HR is not improving, indicating a plateau in fitness.\n\n### üèÉ Running Form Assessment\n- **Cadence Trends**: Average cadence across runs is around 164-167 spm, which is acceptable but could be improved for efficiency (ideal: 170-180 spm).\n- **Vertical Oscillation Patterns**: Data on vertical oscillation is not provided, but a focus on maintaining a steady, low vertical oscillation would be beneficial.\n- **Ground Contact Time Analysis**: Not available, but ensuring ground contact time is under 250 ms would enhance running efficiency.\n- **Form Efficiency Indicators**: The runner should focus on maintaining a steady cadence and improving form to reduce injury risk.\n\n### ‚ö° Training Load & Recovery\n- **Training Effect Distribution**: \n  - Several runs have a TE of 4.0 or higher, indicating high training stress. \n  - Consistent TE above 3.0 suggests that the runner is pushing hard but may not be allowing adequate recovery.\n- **Load Progression**: There is no clear indication of acute vs. chronic load, but the high intensity of several runs raises concerns about overtraining.\n- **Recovery Adequacy**: The runner should ensure at least 48 hours of recovery between hard efforts to allow for adaptation.\n\n### üîç Pattern Recognition\n- **Identify Specific Training Patterns**: \n  - **Gray Zone Trap**: Many runs are at moderate-hard intensity without adequate easy runs.\n  - **Chronic Racer**: The runner is consistently running at or near race pace, increasing the risk of burnout and injury.\n- **Highlight Positive Trends**: The runner is consistent in training frequency and volume, which is a positive sign for long-term fitness.\n- **Flag Concerning Patterns**: High average HR and training effects indicate potential overtraining and insufficient recovery.\n\n### üéØ Race Readiness Assessment\n- **10K**: 6/10 - The runner has the volume but needs to balance intensity and recovery for optimal performance.\n- **Half Marathon**: 5/10 - Similar to the 10K, but more focus on endurance and recovery is needed.\n- **Marathon**: 4/10 - Current training is not adequately preparing the runner for the marathon distance due to high intensity and insufficient easy runs.\n\n### üí° Coaching Recommendations\n1. **Immediate Adjustments**: Reduce the intensity of easy runs to ensure they are truly easy, aiming for a conversational pace (Zone 2).\n2. **Training Balance**: Implement a more structured training plan that includes 80% easy runs and 20% hard efforts to avoid the Gray Zone.\n3. **Specific Workout Prescriptions**: \n   - Easy Run Pace: Aim for 6:30-7:00 min/km for recovery runs.\n   - Hard Workouts: Incorporate interval training (e.g., 5x1 km at 4:30 min/km with 2 min rest).\n4. **Form Improvements**: Focus on drills to improve cadence (e.g., high knees, butt kicks) and work on strength training to enhance running economy.\n5. **Progression Plan**: Over the next 2-4 weeks, gradually increase the volume of easy runs while maintaining hard efforts, ensuring at least one full recovery week every 3-4 weeks to allow for adaptation. \n\nBy following these recommendations, the runner can improve their overall fitness, reduce injury risk, and enhance race readiness.","charts":[{"id":"pace_last_runs","type":"line","title":"Average Pace (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"min/km","series":[{"label":"Pace","data":[5.681631905873347,4.903605569060424,5.622849016165211,6.686253069732911,6.170096715612845,6.161543766560743,6.282208892584235,5.210039559499626],"color":"#4f46e5"}]},{"id":"hr_last_runs","type":"line","title":"Average Heart Rate (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"bpm","series":[{"label":"Avg HR","data":[145,151,143,128,128,161,138,136],"color":"#ef4444"}]},{"id":"cadence_last_runs","type":"line","title":"Average Cadence (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"spm","series":[{"label":"Cadence","data":[167.125,160.03125,161.296875,161.875,164.59375,163.421875,166.203125,164.8125],"color":"#10b981"}]},{"id":"distance_last_runs","type":"line","title":"Distance (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"km","series":[{"label":"Distance","data":[8.011899999999999,5.05579,5.00643,8.404639999999999,5.24045,5.0508500000000005,5.051399999999999,4.6765],"color":"#f97316"}]}]}','beginner',20.0,'2026-02-19T16:36:04.066Z','2026-02-19T16:34:14.721Z','2026-02-19 16:34:14','2026-02-19 16:36:04');
INSERT INTO persona_profiles VALUES('57edee2e-dc24-435d-977a-ef2517bbd19b','{"updated_at":"2026-02-19T16:42:07.735Z","tags":[],"stats":{}}','{"summary":"### üìä Training Volume & Consistency\n- **Total Distance**: 43.55 km across 8 runs (average 5.44 km/run).\n- **Frequency**: 8 runs over an unspecified period; consistency cannot be fully assessed without specific dates.\n- **Volume Trends**: The distances vary, with the longest run being 8.40 km and the shortest being 4.68 km. There is a mix of longer and shorter runs, indicating some variability in training volume.\n- **Consistency Assessment**: Without specific dates, it''s difficult to assess weekly consistency, but the variety in distances suggests an attempt to incorporate different training loads.\n\n### üéØ Intensity Distribution Analysis\n- **Current Easy/Hard Split**: The average paces range from 4:30 to 7:26 min/km, indicating a mix of easy and hard efforts. However, many runs are at a moderate pace, suggesting a potential \"Gray Zone\" issue.\n- **Heart Rate Zone Distribution**: Most runs show average HRs ranging from 128 bpm to 172 bpm, with several runs exceeding 160 bpm, indicating high intensity.\n- **Identification of \"Gray Zone\" Running**: Several runs have average HRs in the moderate to high range (75-85% max HR), particularly in Activities 2, 6, and 8. This indicates a tendency to run in the \"Gray Zone,\" where recovery is compromised.\n- **Pace Variability Assessment**: While there are some faster paces, the overall trend shows a lack of sufficient easy runs, which is crucial for recovery and aerobic development.\n\n### üíì Heart Rate Patterns\n- **Average HR Trends**: Average HRs are consistently high, particularly in Activities 2, 6, and 8, indicating potential overtraining or insufficient recovery.\n- **Zone Distribution**: Most runs are primarily in Zone 2 (aerobic) and Zone 3 (tempo), with minimal time spent in recovery zones (Zone 1).\n- **HR Drift Patterns**: There is a noticeable drift in HR during longer runs, particularly in Activities 1 and 4, suggesting fatigue or hydration issues.\n- **Fitness Indicators**: The average pace at given HRs indicates a potential improvement in fitness, but the high HRs suggest the runner may not be fully recovered.\n\n### üèÉ Running Form Assessment\n- **Cadence Trends**: Average cadence is around 163-170 spm, which is acceptable but could be improved. Some laps drop below 160 spm, indicating potential overstriding.\n- **Vertical Oscillation Patterns**: Not explicitly provided, but a focus on maintaining a lower vertical oscillation (ideally 6-8 cm) would be beneficial.\n- **Ground Contact Time Analysis**: Not provided; however, ensuring ground contact time remains under 250 ms is crucial for efficient running.\n- **Form Efficiency Indicators**: The variability in cadence suggests inconsistency in form, which could be improved with targeted drills.\n\n### ‚ö° Training Load & Recovery\n- **Training Effect Distribution**: Most runs have a Training Effect (TE) between 3.0 and 4.2, indicating a mix of maintaining and improving fitness. However, several runs exceed TE of 4.0, which raises concerns about overtraining.\n- **Load Progression**: Without specific weekly data, acute vs. chronic load cannot be fully assessed, but the variability in distances suggests an attempt at progressive overload.\n- **Recovery Adequacy**: The high average HRs and TE suggest insufficient recovery between hard efforts. Ideally, there should be 48+ hours between high-intensity sessions.\n- **Overtraining Risk Assessment**: The high frequency of runs at moderate to high intensity without sufficient easy runs indicates a risk of overtraining.\n\n### üîç Pattern Recognition\n- **Identify Specific Training Patterns**: \n  - **Gray Zone Trap**: Many runs are at moderate to high intensity, leading to insufficient recovery.\n  - **Weekend Warrior**: If these runs are concentrated in a short time frame (e.g., weekends), it could indicate a lack of consistent training throughout the week.\n- **Highlight Positive Trends**: Some variability in distance and pace, indicating an effort to incorporate different training loads.\n- **Flag Concerning Patterns**: High average HRs, insufficient recovery, and potential overtraining.\n\n### üéØ Race Readiness Assessment\n- **10K**: 6/10 - The runner shows potential but needs more easy runs and recovery to prepare adequately.\n- **Half Marathon**: 5/10 - Current training lacks sufficient volume and recovery; risk of burnout.\n- **Marathon**: 4/10 - Insufficient long runs and recovery; high injury risk if training continues at this intensity.\n\n### üí° Coaching Recommendations\n1. **Immediate Adjustments**: Incorporate more easy runs (Zone 2) into the training plan to allow for recovery and aerobic development.\n2. **Training Balance**: Aim for an 80/20 intensity distribution; 80% of runs should be easy, with only 20% at moderate to high intensity.\n3. **Specific Workout Prescriptions**: \n   - Easy runs: 6:30-7:30 min/km pace for recovery.\n   - Hard workouts: Structured intervals or tempo runs at 4:30-5:00 min/km pace, with adequate recovery.\n4. **Form Improvements**: Focus on drills to improve cadence (aim for 170-180 spm) and reduce vertical oscillation.\n5. **Progression Plan**: Over the next 2-4 weeks, gradually increase the volume of easy runs while maintaining intensity on hard days. Ensure at least one full recovery week every 3-4 weeks to prevent overtraining. \n\nBy implementing these recommendations, the runner can improve their fitness sustainably while reducing the risk of injury and burnout.","charts":[{"id":"pace_last_runs","type":"line","title":"Average Pace (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"min/km","series":[{"label":"Pace","data":[5.681631905873347,4.903605569060424,5.622849016165211,6.686253069732911,6.170096715612845,6.161543766560743,6.282208892584235,5.210039559499626],"color":"#4f46e5"}]},{"id":"hr_last_runs","type":"line","title":"Average Heart Rate (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"bpm","series":[{"label":"Avg HR","data":[145,151,143,128,128,161,138,136],"color":"#ef4444"}]},{"id":"cadence_last_runs","type":"line","title":"Average Cadence (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"spm","series":[{"label":"Cadence","data":[167.125,160.03125,161.296875,161.875,164.59375,163.421875,166.203125,164.8125],"color":"#10b981"}]},{"id":"distance_last_runs","type":"line","title":"Distance (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"km","series":[{"label":"Distance","data":[8.011899999999999,5.05579,5.00643,8.404639999999999,5.24045,5.0508500000000005,5.051399999999999,4.6765],"color":"#f97316"}]}]}','beginner',20.0,'2026-02-19T16:44:03.913Z','2026-02-19T16:42:07.735Z','2026-02-19 16:42:07','2026-02-19 16:44:03');
INSERT INTO persona_profiles VALUES('c3aeb20e-6985-41af-9c0c-9184883bb727','{"updated_at":"2026-02-19T16:45:46.221Z","tags":[]}','{"summary":"### üìä Training Volume & Consistency\n- **Total Distance**: 43.06 km over 8 runs (average of 5.38 km per run).\n- **Frequency**: 8 runs in an unspecified timeframe; consistency cannot be fully assessed without dates.\n- **Week-over-week trends**: Not applicable due to lack of date information.\n- **Consistency assessment**: The average distance indicates a moderate level of consistency, but the lack of frequency data limits a complete assessment.\n- **Volume progression safety**: The total distance is reasonable, but without knowing the previous weeks'' distances, it''s difficult to assess safety.\n\n### üéØ Intensity Distribution Analysis\n- **Current easy/hard split**: Most runs appear to be moderate to hard efforts, with average paces ranging from 4:30 to 7:26 min/km.\n- **Heart rate zone distribution**: Average HRs range from 128 bpm to 174 bpm, indicating a tendency towards higher intensity.\n- **Identification of \"Gray Zone\" running**: Many runs are performed at a moderate-hard pace (75-85% max HR), particularly evident in Activities 1, 2, 6, and 8, suggesting a potential Gray Zone trap.\n- **Pace variability assessment**: There is some variability in pace, but many runs are clustered around moderate to hard efforts, indicating a lack of easy runs.\n\n### üíì Heart Rate Patterns\n- **Average HR trends across runs**: Average HRs are consistently high, with several runs exceeding 160 bpm, indicating a potential overtraining risk.\n- **Zone distribution**: Most runs show a high percentage of time spent in higher HR zones (Zone 3 and above), with little time in recovery (Zone 1).\n- **HR drift patterns**: Notable drift in HR during runs, particularly in higher intensity efforts, indicating potential fatigue.\n- **Fitness indicators**: The average pace at given HRs suggests some improvement, but the high HRs indicate a risk of overtraining.\n\n### üèÉ Running Form Assessment\n- **Cadence trends and quality**: Average cadence is around 164-170 spm, which is acceptable but could be improved. Some runs show a cadence below 160 spm, indicating potential overstriding.\n- **Vertical oscillation patterns**: Not provided, but should be monitored to ensure efficient running form.\n- **Ground contact time analysis**: Not provided, but should be assessed to improve force application.\n- **Form efficiency indicators**: The average cadence suggests a need for improvement in running form to prevent injury.\n\n### ‚ö° Training Load & Recovery\n- **Training Effect distribution**: Most runs have a Training Effect (TE) between 3.0 and 4.2, indicating a mix of maintaining and improving fitness. However, TE consistently above 4.0 in some runs raises concerns about overtraining.\n- **Load progression (acute vs chronic)**: Without specific weekly load data, it''s difficult to assess the acute:chronic ratio.\n- **Recovery adequacy between efforts**: Limited recovery days noted, with many runs performed at high intensity without adequate rest.\n- **Overtraining risk assessment**: High average HRs and TE suggest a risk of overtraining, especially with limited easy runs.\n\n### üîç Pattern Recognition\n- **Identify specific training patterns**: \n  - **Gray Zone Trap**: Many runs performed at moderate-hard intensity without sufficient easy runs.\n  - **Potential Weekend Warrior**: If these runs are clustered on weekends, this pattern could lead to injury.\n- **Highlight positive trends**: Some improvement in pace at given HRs suggests fitness gains.\n- **Flag concerning patterns**: High average HRs, lack of easy runs, and potential overtraining risk.\n\n### üéØ Race Readiness Assessment\n- **10K**: 6/10 - The runner has the endurance but may struggle with pacing due to high HRs.\n- **Half Marathon**: 5/10 - Needs more easy runs and recovery to build endurance without overtraining.\n- **Marathon**: 4/10 - Current training load and intensity distribution are not conducive for marathon readiness.\n\n### üí° Coaching Recommendations\n1. **Immediate adjustments**: Incorporate at least 1-2 easy runs per week to lower overall intensity and allow for recovery.\n2. **Training balance**: Aim for an 80/20 intensity distribution; 80% of runs should be easy (Zone 2), and 20% should be moderate to hard.\n3. **Specific workout prescriptions**: For easy runs, aim for a pace that keeps HR below 140 bpm. Hard workouts should include intervals or tempo runs at a pace that feels challenging but sustainable.\n4. **Form improvements**: Focus on drills to improve cadence (aim for 170-180 spm) and reduce overstriding. Consider strength training to enhance running economy.\n5. **Progression plan**: Over the next 2-4 weeks, gradually increase the volume of easy runs while maintaining hard efforts. Introduce a structured training plan with recovery weeks every 3-4 weeks to prevent overtraining.\n\nBy implementing these recommendations, the runner can improve their overall fitness, reduce injury risk, and enhance race readiness.","charts":[{"id":"pace_last_runs","type":"line","title":"Average Pace (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"min/km","series":[{"label":"Pace","data":[5.681631905873347,4.903605569060424,5.622849016165211,6.686253069732911,6.170096715612845,6.161543766560743,6.282208892584235,5.210039559499626],"color":"#4f46e5"}]},{"id":"hr_last_runs","type":"line","title":"Average Heart Rate (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"bpm","series":[{"label":"Avg HR","data":[145,151,143,128,128,161,138,136],"color":"#ef4444"}]},{"id":"cadence_last_runs","type":"line","title":"Average Cadence (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"spm","series":[{"label":"Cadence","data":[167.125,160.03125,161.296875,161.875,164.59375,163.421875,166.203125,164.8125],"color":"#10b981"}]},{"id":"distance_last_runs","type":"line","title":"Distance (last 8 runs)","xLabels":["Run 1","Run 2","Run 3","Run 4","Run 5","Run 6","Run 7","Run 8"],"yLabel":"km","series":[{"label":"Distance","data":[8.011899999999999,5.05579,5.00643,8.404639999999999,5.24045,5.0508500000000005,5.051399999999999,4.6765],"color":"#f97316"}]}]}','beginner',20.0,'2026-02-19T16:44:58.729Z','2026-02-19T16:45:46.221Z','2026-02-19 16:42:43','2026-02-19 16:45:46');
INSERT INTO persona_profiles VALUES('2a83a911-8f3d-4fbb-9ace-195c20d4ef11','{"updated_at":"2026-02-19T17:14:36.888Z","tags":[]}','{"summary":"### üìä Training Volume & Consistency\n- **Total Distance**: 43.80 km across 8 runs (average of 5.48 km/run).\n- **Frequency**: 8 runs over an unspecified period, indicating a relatively consistent training schedule.\n- **Week-over-week trends**: Not specified, but the average distance suggests a stable volume.\n- **Consistency Assessment**: The runner appears to maintain a regular running schedule, but the distances vary significantly, indicating potential fluctuations in training focus.\n- **Volume Progression Safety**: The total distance is reasonable, but without specific week-over-week data, it‚Äôs hard to assess volume progression safety accurately.\n\n### üéØ Intensity Distribution Analysis\n- **Current Easy/Hard Split**: The data suggests a mix of easy and hard efforts, but specific percentages are not provided. \n- **Heart Rate Zone Distribution**: Most runs show average HRs ranging from 128 bpm to 172 bpm, indicating a mix of moderate to high intensity.\n- **Identification of \"Gray Zone\" Running**: There are signs of potential gray zone running, especially in activities where the average HR is consistently high (e.g., Activity 6 with an average HR of 161 bpm).\n- **Pace Variability Assessment**: There is variability in pace across runs, but several runs are at a higher intensity, suggesting a lack of sufficient easy runs.\n\n### üíì Heart Rate Patterns\n- **Average HR Trends**: Average HR ranges from 128 bpm to 172 bpm across activities, indicating varying intensity levels.\n- **Zone Distribution**: Most activities show a high percentage of time spent in higher HR zones, particularly Zone 3 and above, which is concerning for recovery.\n- **HR Drift Patterns**: No specific HR drift data provided, but the high average HR suggests potential fatigue or insufficient recovery.\n- **Fitness Indicators**: The runner''s ability to maintain a similar pace at varying HRs could indicate some level of fitness improvement, but the high average HR suggests overtraining risk.\n\n### üèÉ Running Form Assessment\n- **Cadence Trends and Quality**: Average cadence ranges from 160 to 170 spm, which is acceptable but on the lower end. \n- **Vertical Oscillation Patterns**: Not provided, but high vertical oscillation could indicate inefficiency.\n- **Ground Contact Time Analysis**: Not provided, but high ground contact time could suggest slower force application.\n- **Form Efficiency Indicators**: The cadence is slightly below the ideal range (170-180 spm), which could indicate potential overstriding.\n\n### ‚ö° Training Load & Recovery\n- **Training Effect Distribution**: Most activities show a Training Effect (TE) of 3.0 to 4.2, indicating a mix of maintaining and improving fitness.\n- **Load Progression (Acute vs Chronic)**: Without specific weekly load data, it''s challenging to assess the acute:chronic ratio.\n- **Recovery Adequacy Between Efforts**: The TE suggests some sessions are too intense without adequate recovery, especially if multiple high TE sessions are performed in a short period.\n- **Overtraining Risk Assessment**: The consistently high average HR and TE indicate a risk of overtraining, particularly if recovery runs are not incorporated.\n\n### üîç Pattern Recognition\n- **Identify Specific Training Patterns**: Signs of the \"Gray Zone\" trap are evident, particularly in activities with high average HRs and insufficient easy runs.\n- **Highlight Positive Trends**: The runner shows a willingness to maintain volume, but intensity management is needed.\n- **Flag Concerning Patterns**: The high intensity of most runs and low variability in easy efforts indicate potential overtraining and insufficient recovery.\n\n### üéØ Race Readiness Assessment\n- **10K**: 6/10 - The runner has the volume but may struggle with pacing due to high intensity in most runs.\n- **Half Marathon**: 5/10 - Insufficient recovery and high intensity could hinder performance.\n- **Marathon**: 4/10 - Current training patterns suggest a risk of burnout and injury, making marathon readiness questionable.\n\n### üí° Coaching Recommendations\n1. **Immediate Adjustments**: Incorporate more easy runs (Zone 2) to balance intensity and allow for recovery. Aim for 80% of runs to be easy.\n2. **Training Balance**: Focus on a more structured training plan that includes a clear distinction between easy, moderate, and hard days to avoid gray zone running.\n3. **Specific Workout Prescriptions**: For easy runs, aim for a pace that keeps HR in Zone 2 (60-70% max HR). For hard workouts, incorporate tempo runs and intervals once a week.\n4. **Form Improvements**: Work on increasing cadence to the ideal range (170-180 spm) through drills like high knees and quick feet.\n5. **Progression Plan**: Over the next 2-4 weeks, gradually increase the volume of easy runs while reducing the intensity of hard efforts. Consider a recovery week every 3-4 weeks to allow adaptation. \n\nBy following these recommendations, the runner can improve their overall fitness, reduce the risk of injury, and enhance race readiness.","charts":[{"id":"pace_trend","type":"line","title":"Pace Trend (Recent Runs)","xLabels":["Run 8","Run 7","Run 6","Run 5","Run 4","Run 3","Run 2","Run 1"],"yLabel":"min/km","series":[{"label":"Pace","data":[5.210039559499626,6.282208892584235,6.161543766560743,6.170096715612845,6.686253069732911,5.622849016165211,4.903605569060424,5.681631905873347],"color":"#4f46e5"}]},{"id":"hr_trend","type":"line","title":"Heart Rate Trend (Recent Runs)","xLabels":["Run 8","Run 7","Run 6","Run 5","Run 4","Run 3","Run 2","Run 1"],"yLabel":"bpm","series":[{"label":"Heart Rate","data":[136,138,161,128,128,143,151,145],"color":"#ef4444"}]},{"id":"distance_trend","type":"bar","title":"Distance (Recent Runs)","xLabels":["Run 8","Run 7","Run 6","Run 5","Run 4","Run 3","Run 2","Run 1"],"yLabel":"km","series":[{"label":"Distance","data":[4.6765,5.051399999999999,5.0508500000000005,5.24045,8.404639999999999,5.00643,5.05579,8.011899999999999],"color":"#10b981"}]}]}','beginner',20.0,'2026-02-19T17:11:01.378Z','2026-02-19T17:14:36.888Z','2026-02-19 17:08:07','2026-02-19 17:14:36');
INSERT INTO persona_profiles VALUES('1d6b1dc6-d3b7-4d4e-a9a2-e773b908b5cf','{"updated_at":"2026-02-19T17:18:40.845Z","tags":[],"stats":{}}','{"summary":"### üìä Training Volume & Consistency\n- **Total Distance**: 43.06 km across 8 runs (average 5.38 km/run).\n- **Total Duration**: 4 hours, 10 minutes (average 31.3 minutes/run).\n- **Frequency**: 8 runs in a short period indicates good frequency, but specific dates are missing for a clearer weekly assessment.\n- **Week-over-week trends**: Not assessable due to missing date data.\n- **Consistency assessment**: The average distance per run is low for a recreational runner aiming to build endurance. Ideally, aim for 3-5 runs/week.\n- **Volume progression safety**: No significant spikes in volume noted, but the average distance suggests potential for gradual increase.\n\n### üéØ Intensity Distribution Analysis\n- **Current easy/hard split**: Most runs are moderate-hard efforts, with average paces ranging from 4:30 to 7:26 min/km. This indicates a lack of easy runs.\n- **Heart rate zone distribution**: Average HRs vary significantly, with some runs peaking at 178 bpm, suggesting high intensity.\n- **Identification of \"Gray Zone\" running**: Many runs are performed at moderate to hard paces (75-85% max HR), indicating a risk of falling into the Gray Zone Trap.\n- **Pace variability assessment**: There is variability in pace, but the majority of runs are above the ideal easy run pace, which should be slower to promote recovery.\n\n### üíì Heart Rate Patterns\n- **Average HR trends across runs**: Average HRs range from 128 bpm to 161 bpm, indicating varying intensity levels.\n- **Zone distribution**: Most runs show a high average HR, suggesting a lack of lower intensity training. Zone 1 time is minimal across all runs.\n- **HR drift patterns**: No significant drift observed, but high average HRs suggest potential overtraining risk.\n- **Fitness indicators**: The average HR is high for the given paces, indicating a need for more easy runs to build aerobic capacity.\n\n### üèÉ Running Form Assessment\n- **Cadence trends and quality**: Average cadence is generally within the acceptable range (160-170 spm), but some laps drop below 160 spm, indicating potential overstriding.\n- **Vertical oscillation patterns**: Not provided, but a focus on maintaining low vertical oscillation is recommended for efficiency.\n- **Ground contact time analysis**: Not provided, but should be monitored to ensure efficient force application.\n- **Form efficiency indicators**: The average cadence suggests some efficiency, but attention to maintaining cadence above 170 spm is advisable.\n\n### ‚ö° Training Load & Recovery\n- **Training Effect distribution**: Most runs have a Training Effect (TE) of 3.0 or higher, indicating a focus on improving fitness but also a risk of overtraining.\n- **Load progression (acute vs chronic)**: Not assessable due to missing week-over-week data.\n- **Recovery adequacy between efforts**: Insufficient easy runs suggest inadequate recovery, risking burnout and injury.\n- **Overtraining risk assessment**: High average HR and TE indicate a potential risk of overtraining due to insufficient recovery.\n\n### üîç Pattern Recognition\n- **Identify specific training patterns**: \n  - **Gray Zone Trap**: Many runs are performed at moderate-hard intensity without sufficient easy days.\n  - **Weekend Warrior**: While specific dates are missing, the volume suggests a pattern of infrequent but intense runs.\n- **Highlight positive trends**: Consistent running frequency is a positive sign, but the focus on intensity needs adjustment.\n- **Flag concerning patterns**: High average HRs and lack of easy runs indicate a need for immediate adjustments to training.\n\n### üéØ Race Readiness Assessment\n- **10K**: 6/10 - [Good fitness level but needs more easy runs for endurance]\n- **Half Marathon**: 5/10 - [Current training lacks volume and recovery; risk of burnout]\n- **Marathon**: 4/10 - [Not enough long, slow runs to build endurance; risk of injury]\n\n### üí° Coaching Recommendations\n1. **Immediate adjustments**: Incorporate at least 1-2 easy runs per week at a conversational pace (Zone 2) to promote recovery and aerobic development.\n2. **Training balance**: Aim for an 80/20 intensity distribution; 80% of runs should be easy, 20% moderate-hard efforts.\n3. **Specific workout prescriptions**: Easy runs should be at a pace of 6:30-7:30 min/km, while hard workouts can include intervals or tempo runs at 4:30-5:00 min/km.\n4. **Form improvements**: Focus on maintaining cadence above 170 spm; consider drills to improve running efficiency and reduce vertical oscillation.\n5. **Progression plan**: Gradually increase weekly volume by no more than 10% per week, incorporating recovery weeks every 3-4 weeks to allow adaptation. \n\nBy implementing these recommendations, you can enhance your training effectiveness, reduce injury risk, and improve overall performance.","charts":[{"id":"pace_trend","type":"line","title":"Pace Trend (Recent Runs)","xLabels":["Run 8","Run 7","Run 6","Run 5","Run 4","Run 3","Run 2","Run 1"],"yLabel":"min/km","series":[{"label":"Pace","data":[5.210039559499626,6.282208892584235,6.161543766560743,6.170096715612845,6.686253069732911,5.622849016165211,4.903605569060424,5.681631905873347],"color":"#4f46e5"}]},{"id":"hr_trend","type":"line","title":"Heart Rate Trend (Recent Runs)","xLabels":["Run 8","Run 7","Run 6","Run 5","Run 4","Run 3","Run 2","Run 1"],"yLabel":"bpm","series":[{"label":"Heart Rate","data":[136,138,161,128,128,143,151,145],"color":"#ef4444"}]},{"id":"distance_trend","type":"bar","title":"Distance (Recent Runs)","xLabels":["Run 8","Run 7","Run 6","Run 5","Run 4","Run 3","Run 2","Run 1"],"yLabel":"km","series":[{"label":"Distance","data":[4.6765,5.051399999999999,5.0508500000000005,5.24045,8.404639999999999,5.00643,5.05579,8.011899999999999],"color":"#10b981"}]}]}','beginner',20.0,'2026-02-19T17:20:28.414Z','2026-02-19T17:18:40.845Z','2026-02-19 17:18:40','2026-02-19 17:20:28');
INSERT INTO persona_profiles VALUES('941349cc-f2cd-4636-8cd7-70c59e4853d4','{"updated_at":"2026-02-19T17:22:00.028Z","tags":[],"stats":{}}','{"summary":"### üìä Training Volume & Consistency\n- **Total Distance**: 43.10 km across 8 runs (average 5.39 km/run).\n- **Frequency**: 8 runs over an unspecified period, indicating a relatively high frequency.\n- **Week-over-week trends**: The data does not specify the time frame, but the distances suggest a mix of shorter and longer runs, indicating varied training.\n- **Consistency assessment**: The runner has maintained a good frequency, but the variation in distance and intensity suggests a need for more structured training.\n- **Volume progression safety**: The distances vary significantly, with some runs being quite short (4.68 km) and others longer (8.40 km). This inconsistency could lead to injury if not managed properly.\n\n### üéØ Intensity Distribution Analysis\n- **Current easy/hard split**: The average pace ranges from 4:30 min/km to 7:26 min/km, indicating a mix of easy and hard efforts. However, the majority of runs appear to be in the moderate-hard range.\n- **Heart rate zone distribution**: The average HR fluctuates between 128 bpm and 172 bpm, with several runs showing high average HRs, indicating a potential lack of easy runs.\n- **Identification of \"Gray Zone\" running**: Several runs are performed at moderate to high intensity (75-85% max HR), indicating a risk of falling into the \"Gray Zone Trap.\"\n- **Pace variability assessment**: There is variability in pace, but the majority of runs are at a higher intensity, suggesting a need for more easy runs.\n\n### üíì Heart Rate Patterns\n- **Average HR trends across runs**: Average HRs range from 128 bpm to 172 bpm, with several runs exceeding 160 bpm, indicating high intensity.\n- **Zone distribution**: Most runs show a significant amount of time spent in higher HR zones, suggesting insufficient recovery and potential overtraining.\n- **HR drift patterns**: There is no clear indication of HR drift due to lack of data on longer runs, but high average HRs suggest fatigue.\n- **Fitness indicators**: The runner''s ability to maintain pace at higher HRs may indicate a developing fitness level, but the high HRs also suggest a need for recovery.\n\n### üèÉ Running Form Assessment\n- **Cadence trends and quality**: Average cadence ranges from 160 to 171 spm, which is acceptable but on the lower end of the ideal range (170-180 spm). This may indicate potential overstriding.\n- **Vertical oscillation patterns**: Data on vertical oscillation is not provided, making it difficult to assess energy efficiency.\n- **Ground contact time analysis**: Ground contact time data is not available, limiting the assessment of force application.\n- **Form efficiency indicators**: The overall cadence suggests that the runner may benefit from form drills to increase cadence and efficiency.\n\n### ‚ö° Training Load & Recovery\n- **Training Effect distribution**: Training Effect ranges from 3.0 to 4.2, indicating a mix of maintaining and improving fitness, but also suggesting potential overtraining with high TE.\n- **Load progression (acute vs chronic)**: Without specific weekly load data, it''s difficult to assess the acute:chronic ratio, but the variability in distance suggests a need for more structured load management.\n- **Recovery adequacy between efforts**: The frequency of runs suggests that recovery may be inadequate, especially with several high-intensity sessions.\n- **Overtraining risk assessment**: The high average HRs and consistent high training effects indicate a risk of overtraining.\n\n### üîç Pattern Recognition\n- **Identify specific training patterns**: The runner appears to be in the \"Gray Zone\" with many runs at moderate to high intensity. There is also a potential \"Weekend Warrior\" pattern if longer runs are concentrated on weekends.\n- **Highlight positive trends**: The runner shows good frequency and some variability in pace, indicating a willingness to challenge themselves.\n- **Flag concerning patterns**: High average HRs and training effects suggest a risk of burnout or injury if not addressed.\n\n### üéØ Race Readiness Assessment\n- **10K**: 6/10 - The runner has the volume but needs more easy runs to improve endurance and recovery.\n- **Half Marathon**: 5/10 - Similar to the 10K, but the risk of overtraining could hinder performance.\n- **Marathon**: 4/10 - Insufficient long runs and recovery indicate a need for a more structured training plan.\n\n### üí° Coaching Recommendations\n1. **Immediate adjustments**: Incorporate more easy runs (Zone 2) into the training plan to reduce average HR and allow for recovery.\n2. **Training balance**: Aim for an 80/20 intensity distribution, ensuring 80% of runs are easy and 20% are moderate-hard efforts.\n3. **Specific workout prescriptions**: Establish a structured plan with designated easy days (e.g., 6:30-7:00 min/km) and hard days (tempo runs at 4:30-5:00 min/km).\n4. **Form improvements**: Focus on cadence drills to increase cadence to the ideal range (170-180 spm) and improve running efficiency.\n5. **Progression plan**: Gradually increase weekly mileage by no more than 10% and incorporate recovery weeks every 3-4 weeks to prevent overtraining. \n\nBy implementing these recommendations, the runner can enhance performance while minimizing injury risk and ensuring sustainable progress.","charts":[{"id":"pace_trend","type":"line","title":"Pace Trend (Recent Runs)","xLabels":["Run 8","Run 7","Run 6","Run 5","Run 4","Run 3","Run 2","Run 1"],"yLabel":"min/km","series":[{"label":"Pace","data":[5.210039559499626,6.282208892584235,6.161543766560743,6.170096715612845,6.686253069732911,5.622849016165211,4.903605569060424,5.681631905873347],"color":"#4f46e5"}]},{"id":"hr_trend","type":"line","title":"Heart Rate Trend (Recent Runs)","xLabels":["Run 8","Run 7","Run 6","Run 5","Run 4","Run 3","Run 2","Run 1"],"yLabel":"bpm","series":[{"label":"Heart Rate","data":[136,138,161,128,128,143,151,145],"color":"#ef4444"}]},{"id":"distance_trend","type":"bar","title":"Distance (Recent Runs)","xLabels":["Run 8","Run 7","Run 6","Run 5","Run 4","Run 3","Run 2","Run 1"],"yLabel":"km","series":[{"label":"Distance","data":[4.6765,5.051399999999999,5.0508500000000005,5.24045,8.404639999999999,5.00643,5.05579,8.011899999999999],"color":"#10b981"}]}]}','beginner',20.0,'2026-02-19T17:23:43.394Z','2026-02-19T17:22:00.028Z','2026-02-19 17:21:44','2026-02-19 17:23:43');
INSERT INTO persona_profiles VALUES('4fb172cb-b716-4821-980f-2e7f226d4192','{"updated_at":"2026-02-19T17:34:34.580Z","tags":[]}','{"summary":"### üìä Training Volume & Consistency\n- **Total Distance**: 43.56 km over 8 runs (average 5.45 km/run).\n- **Frequency**: 8 runs, indicating a consistent training schedule.\n- **Volume Trends**: The distances vary, with the longest run at 8.40 km and the shortest at 4.68 km. This indicates some variability in training volume.\n- **Consistency Assessment**: Overall, the runner has maintained a consistent frequency, but the variation in distance suggests a lack of structured progression.\n- **Volume Progression Safety**: No significant spikes in volume (>10% increase) were noted, which is positive for injury prevention.\n\n### üéØ Intensity Distribution Analysis\n- **Current Easy/Hard Split**: The average pace across runs ranges from 4:30 to 7:26 min/km, indicating a mix of easy and hard efforts. However, a more detailed analysis of heart rate is necessary to assess adherence to the 80/20 rule.\n- **Heart Rate Zone Distribution**: The average HR across runs varies significantly, with some runs showing high average HR (e.g., 161 bpm) and others much lower (e.g., 128 bpm). \n- **Identification of \"Gray Zone\" Running**: Several runs (especially those with average HRs around 145-168 bpm) indicate a tendency towards moderate-hard efforts, suggesting potential \"Gray Zone\" running.\n- **Pace Variability Assessment**: There is a mix of paces, but the presence of multiple runs at higher HRs indicates a lack of easy runs.\n\n### üíì Heart Rate Patterns\n- **Average HR Trends**: Average HR ranges from 128 bpm to 168 bpm, indicating variability in effort. \n- **Zone Distribution**: Most runs are in Zone 1 (recovery) and Zone 2 (aerobic), but there are significant portions in higher zones (3-5), indicating hard efforts.\n- **HR Drift Patterns**: There are signs of potential fatigue or overexertion in some runs, particularly those with high average HRs for the pace.\n- **Fitness Indicators**: The runner''s ability to maintain pace at lower HRs over time would indicate improving fitness, but this data is not fully available.\n\n### üèÉ Running Form Assessment\n- **Cadence Trends and Quality**: Average cadence ranges from 160 to 171 spm, which is slightly below the ideal range (170-180 spm). This could indicate potential overstriding or inefficiencies.\n- **Vertical Oscillation Patterns**: Data not provided, but high vertical oscillation (>10 cm) would indicate inefficient running form.\n- **Ground Contact Time Analysis**: Data not provided, but high ground contact time (>280 ms) would suggest slower force application.\n- **Form Efficiency Indicators**: The combination of cadence and HR suggests that form may be suffering under higher intensity efforts.\n\n### ‚ö° Training Load & Recovery\n- **Training Effect Distribution**: Training effects range from 3.0 to 4.2, indicating a mix of maintaining and improving fitness. However, consistently high training effects (>4.0) can indicate overtraining risk.\n- **Load Progression (Acute vs Chronic)**: Data on acute vs chronic load not provided, but monitoring this ratio is crucial for injury prevention.\n- **Recovery Adequacy Between Efforts**: There is a need for more recovery days, especially after high-intensity runs, to allow for adaptation.\n- **Overtraining Risk Assessment**: The presence of several high-intensity runs in close succession may indicate a risk of overtraining.\n\n### üîç Pattern Recognition\n- **Identify Specific Training Patterns**: The runner appears to be in the \"Chronic Racer\" category, with several runs at race pace or faster, leading to potential burnout and plateau.\n- **Highlight Positive Trends**: Consistent running frequency is a positive sign, but the intensity distribution needs adjustment.\n- **Flag Concerning Patterns**: The presence of multiple runs in the moderate-hard effort zone indicates a potential \"Gray Zone\" trap.\n\n### üéØ Race Readiness Assessment\n- **10K**: 7/10 - The runner has the volume but needs to adjust intensity for better pacing strategy.\n- **Half Marathon**: 6/10 - Adequate volume but needs more long runs and recovery.\n- **Marathon**: 5/10 - Volume is insufficient for marathon training; needs structured long runs and recovery weeks.\n\n### üí° Coaching Recommendations\n1. **Immediate Adjustments**: Incorporate more easy runs (Zone 2) into the training schedule to avoid the \"Gray Zone\" trap. Aim for 80% of runs to be at an easy pace.\n2. **Training Balance**: Introduce structured training sessions with clear easy and hard days. For instance, follow a 3:1 ratio of easy to hard runs.\n3. **Specific Workout Prescriptions**: For easy runs, target a pace of 6:30-7:30 min/km, and for hard workouts, include tempo runs at 4:30-5:00 min/km.\n4. **Form Improvements**: Focus on drills to improve cadence (aim for 170-180 spm) and consider strength training to enhance running economy.\n5. **Progression Plan**: Over the next 4 weeks, gradually increase long run distance by 10% weekly, ensuring recovery weeks every 3-4 weeks to allow adaptation.","charts":[{"id":"pace_trend","type":"line","title":"Pace Trend (Recent Runs)","xLabels":["Run 8","Run 7","Run 6","Run 5","Run 4","Run 3","Run 2","Run 1"],"yLabel":"min/km","series":[{"label":"Pace","data":[5.210039559499626,6.282208892584235,6.161543766560743,6.170096715612845,6.686253069732911,5.622849016165211,4.903605569060424,5.681631905873347],"color":"#4f46e5"}]},{"id":"hr_trend","type":"line","title":"Heart Rate Trend (Recent Runs)","xLabels":["Run 8","Run 7","Run 6","Run 5","Run 4","Run 3","Run 2","Run 1"],"yLabel":"bpm","series":[{"label":"Heart Rate","data":[136,138,161,128,128,143,151,145],"color":"#ef4444"}]},{"id":"distance_trend","type":"bar","title":"Distance (Recent Runs)","xLabels":["Run 8","Run 7","Run 6","Run 5","Run 4","Run 3","Run 2","Run 1"],"yLabel":"km","series":[{"label":"Distance","data":[4.6765,5.051399999999999,5.0508500000000005,5.24045,8.404639999999999,5.00643,5.05579,8.011899999999999],"color":"#10b981"}]}]}','beginner',20.0,'2026-02-19T17:27:08.698Z','2026-02-19T17:34:34.580Z','2026-02-19 17:25:21','2026-02-19 17:34:34');
INSERT INTO persona_profiles VALUES('f9c6a9d0-e134-4173-ba0f-46f2fc2e3c1f','{"updated_at":"2026-02-20T03:08:29.639Z","tags":["marathon","half marathon","plan"]}','{"summary":"### üìä Training Volume & Consistency\n- **Total Distance**: 43.05 km over 8 runs (average of 5.38 km/run)\n- **Frequency**: 8 runs in a variable time frame, indicating inconsistent running frequency.\n- **Week-over-week trends**: No clear week-over-week data provided, but the distances vary significantly, suggesting a lack of structured training.\n- **Consistency assessment**: The runner is not consistently hitting a target of 3-5 runs per week, which is ideal for recreational runners.\n- **Volume progression safety**: The total distance is reasonable, but the variability in distance and duration suggests potential for injury if not managed carefully.\n\n### üéØ Intensity Distribution Analysis\n- **Current easy/hard split**: The average HR across runs varies widely, with some runs showing high intensity (e.g., Activity 2 with an average HR of 151 bpm) and others being much lower (e.g., Activity 4 with an average HR of 128 bpm).\n- **Heart rate zone distribution**: Most activities show a high average HR, indicating that many runs are conducted at higher intensities.\n- **Identification of \"Gray Zone\" running**: Several runs appear to fall into the \"Gray Zone\" (75-85% max HR), particularly those with average HRs above 150 bpm. This is concerning as it suggests insufficient recovery and potential overtraining.\n- **Pace variability assessment**: There is some variability in pace, but several runs are at moderate-hard efforts without sufficient easy runs to balance the intensity.\n\n### üíì Heart Rate Patterns\n- **Average HR trends across runs**: Average HR ranges from 128 bpm to 161 bpm, indicating a mix of intensities but leaning towards higher effort levels.\n- **Zone distribution**: Most runs have a high percentage of time spent in higher HR zones, particularly Zone 3 and above, indicating a lack of easy runs.\n- **HR drift patterns**: There is no clear indication of HR drift due to lack of hydration or fatigue, but the consistently high HR suggests a need for recovery.\n- **Fitness indicators**: The runner''s ability to maintain similar paces at varying HRs indicates some level of fitness improvement, but the high average HR suggests overtraining.\n\n### üèÉ Running Form Assessment\n- **Cadence trends and quality**: Average cadence across runs is generally acceptable (around 160-170 spm), but some laps show lower cadences, which may indicate overstriding.\n- **Vertical oscillation patterns**: Data on vertical oscillation is not provided, but a focus on keeping it within 6-10 cm is recommended for efficiency.\n- **Ground contact time analysis**: Ground contact times are not provided, but ensuring they are below 250 ms is essential for optimal performance.\n- **Form efficiency indicators**: The variability in cadence suggests inconsistency in form, which could be improved with focused drills.\n\n### ‚ö° Training Load & Recovery\n- **Training Effect distribution**: Training Effect scores range from 3.0 to 4.2, indicating a mix of maintaining and improving fitness, but consistently high scores could lead to overtraining.\n- **Load progression (acute vs chronic)**: Without specific weekly load data, it''s difficult to assess the acute:chronic ratio, but the variability in training loads suggests a lack of structured progression.\n- **Recovery adequacy between efforts**: There is insufficient recovery between hard efforts, as indicated by the high average HR and training effects.\n- **Overtraining risk assessment**: The runner is at risk of overtraining given the high intensity of most runs and insufficient easy runs.\n\n### üîç Pattern Recognition\n- **Identify specific training patterns**: The runner appears to be in the \"Gray Zone\" trap, with several runs conducted at moderate-hard efforts without adequate recovery.\n- **Highlight positive trends**: Some improvement in pace at lower HRs is noted, indicating potential fitness gains.\n- **Flag concerning patterns**: The lack of easy runs and consistent high HRs across activities raise concerns for overtraining and injury risk.\n\n### üéØ Race Readiness Assessment\n- **10K**: 6/10 - The runner has the volume but lacks the necessary recovery and easy runs to be fully prepared.\n- **Half Marathon**: 5/10 - Similar concerns as the 10K, with insufficient long runs and recovery.\n- **Marathon**: 4/10 - The current training load and intensity distribution are not conducive to marathon readiness.\n\n### üí° Coaching Recommendations\n1. **Immediate adjustments**: Introduce more easy runs (Zone 2) to balance the intensity and allow for recovery. Aim for at least 3 easy runs per week.\n2. **Training balance**: Shift towards an 80/20 intensity distribution, ensuring 80% of runs are easy and 20% are moderate-hard efforts.\n3. **Specific workout prescriptions**: For easy runs, aim for a pace that keeps HR in Zone 2 (60-70% max HR). For hard workouts, incorporate structured interval training or tempo runs once a week.\n4. **Form improvements**: Focus on drills to improve cadence (aim for 170-180 spm) and reduce ground contact time. Consider strength training to enhance running economy.\n5. **Progression plan**: Over the next 2-4 weeks, gradually increase the volume of easy runs while maintaining hard workouts. Implement a cutback week every 3-4 weeks to allow for recovery and adaptation.","charts":[{"id":"pace_trend","type":"line","title":"Pace Trend (Recent Runs)","xLabels":["Run 8","Run 7","Run 6","Run 5","Run 4","Run 3","Run 2","Run 1"],"yLabel":"min/km","series":[{"label":"Pace","data":[5.210039559499626,6.282208892584235,6.161543766560743,6.170096715612845,6.686253069732911,5.622849016165211,4.903605569060424,5.681631905873347],"color":"#4f46e5"}]},{"id":"hr_trend","type":"line","title":"Heart Rate Trend (Recent Runs)","xLabels":["Run 8","Run 7","Run 6","Run 5","Run 4","Run 3","Run 2","Run 1"],"yLabel":"bpm","series":[{"label":"Heart Rate","data":[136,138,161,128,128,143,151,145],"color":"#ef4444"}]},{"id":"distance_trend","type":"bar","title":"Distance (Recent Runs)","xLabels":["Run 8","Run 7","Run 6","Run 5","Run 4","Run 3","Run 2","Run 1"],"yLabel":"km","series":[{"label":"Distance","data":[4.6765,5.051399999999999,5.0508500000000005,5.24045,8.404639999999999,5.00643,5.05579,8.011899999999999],"color":"#10b981"}]}]}','intermediate',40.0,'2026-02-20T03:05:40.677Z','2026-02-20T03:08:29.639Z','2026-02-20 03:03:45','2026-02-20 03:08:29');
INSERT INTO persona_profiles VALUES('97b1f355-f5c5-443e-b15d-b8326d789515','{"updated_at":"2026-02-20T03:24:31.590Z","tags":[],"stats":{}}','{"summary":"### üìä Training Volume & Consistency\n- **Total Distance**: 43.10 km over 8 runs (average 5.39 km/run).\n- **Frequency**: Activities appear to be spread out, but exact dates are missing, making it difficult to assess weekly consistency.\n- **Week-over-week trends**: Not directly assessable due to missing dates, but the average distance per run suggests a moderate volume.\n- **Consistency assessment**: The average distance indicates a reasonable consistency, but the lack of regularity in run frequency could lead to stagnation or regression.\n- **Volume progression safety**: No significant spikes in volume noted, but the average distance should be monitored to ensure it aligns with the runner''s fitness level.\n\n### üéØ Intensity Distribution Analysis\n- **Current easy/hard split**: The average paces suggest a mix of easy and moderate efforts, but the heart rates indicate a potential over-reliance on higher intensity.\n- **Heart rate zone distribution**: Most runs show average HRs ranging from 128 bpm to 172 bpm, indicating a tendency towards moderate to high intensity.\n- **Identification of \"Gray Zone\" running**: Several runs exhibit high average HRs (above 150 bpm) without sufficient recovery, suggesting a risk of falling into the Gray Zone (75-85% max HR).\n- **Pace variability assessment**: The variability in pace across runs indicates some variety, but the heart rate data suggests that many runs are at a higher intensity than ideal.\n\n### üíì Heart Rate Patterns\n- **Average HR trends across runs**: Average HRs range from 128 bpm to 172 bpm, with several runs exceeding 160 bpm, indicating a potential overtraining risk.\n- **Zone distribution**: Limited time spent in lower HR zones (Zone 1 and 2), with most time spent in higher zones, which is not ideal for aerobic base development.\n- **HR drift patterns**: Notable drift in HR during some runs, particularly those with higher average HRs, indicating fatigue or insufficient recovery.\n- **Fitness indicators**: The average pace at given HRs suggests that the runner is not improving fitness optimally, as many runs are at a high intensity without adequate recovery.\n\n### üèÉ Running Form Assessment\n- **Cadence trends and quality**: Average cadence is generally within the acceptable range (160-170 spm), but some laps show higher cadences, which may indicate inefficiencies.\n- **Vertical oscillation patterns**: Data on vertical oscillation is not provided; however, maintaining a cadence within the ideal range can help minimize excessive vertical movement.\n- **Ground contact time analysis**: Not provided, but should be monitored to ensure efficient force application.\n- **Form efficiency indicators**: The consistent average cadence suggests a stable form, but the high HRs may indicate that the runner is working harder than necessary.\n\n### ‚ö° Training Load & Recovery\n- **Training Effect distribution**: Training Effect scores range from 3.0 to 4.2, indicating a mix of maintaining and improving fitness. However, consistently high scores (>4.0) can indicate overtraining risk.\n- **Load progression (acute vs chronic)**: Without specific weekly data, it''s challenging to assess acute vs chronic load, but the overall intensity suggests a need for recovery.\n- **Recovery adequacy between efforts**: Limited recovery days noted; many runs are at moderate to high intensity, which could lead to insufficient recovery.\n- **Overtraining risk assessment**: The high average HRs and training effects indicate a risk of overtraining, especially with inadequate recovery.\n\n### üîç Pattern Recognition\n- **Identify specific training patterns**: The data suggests a tendency towards the \"Chronic Racer\" pattern, with many runs at moderate to high intensity without adequate easy runs.\n- **Highlight positive trends**: The runner shows good volume consistency, but the intensity distribution needs adjustment.\n- **Flag concerning patterns**: High average HRs across multiple runs indicate a risk of overtraining and potential burnout.\n\n### üéØ Race Readiness Assessment\n- **10K**: 6/10 - The runner has the volume but needs better recovery and intensity management.\n- **Half Marathon**: 5/10 - Similar concerns as the 10K, with a need for more easy runs to build endurance.\n- **Marathon**: 4/10 - Current training load and intensity distribution are not optimal for marathon readiness.\n\n### üí° Coaching Recommendations\n1. **Immediate adjustments**: Incorporate more easy runs (Zone 2) into the training plan to reduce average HR and improve aerobic base.\n2. **Training balance**: Aim for an 80/20 intensity distribution; 80% of runs should be easy, with only 20% at moderate to hard efforts.\n3. **Specific workout prescriptions**: For easy runs, aim for a pace that keeps HR below 140 bpm. For hard workouts, structure them as intervals or tempo runs with adequate recovery.\n4. **Form improvements**: Focus on drills that enhance cadence and reduce vertical oscillation. Consider strength training to improve running economy.\n5. **Progression plan**: Over the next 2-4 weeks, gradually increase the number of easy runs while maintaining hard efforts to allow for recovery and adaptation.\n\nBy following these recommendations, the runner can improve their overall fitness, reduce the risk of injury, and enhance performance in upcoming races.","charts":[{"id":"pace_trend","type":"line","title":"Pace Trend (Recent Runs)","xLabels":["Run 8","Run 7","Run 6","Run 5","Run 4","Run 3","Run 2","Run 1"],"yLabel":"min/km","series":[{"label":"Pace","data":[5.210039559499626,6.282208892584235,6.161543766560743,6.170096715612845,6.686253069732911,5.622849016165211,4.903605569060424,5.681631905873347],"color":"#4f46e5"}]},{"id":"hr_trend","type":"line","title":"Heart Rate Trend (Recent Runs)","xLabels":["Run 8","Run 7","Run 6","Run 5","Run 4","Run 3","Run 2","Run 1"],"yLabel":"bpm","series":[{"label":"Heart Rate","data":[136,138,161,128,128,143,151,145],"color":"#ef4444"}]},{"id":"distance_trend","type":"bar","title":"Distance (Recent Runs)","xLabels":["Run 8","Run 7","Run 6","Run 5","Run 4","Run 3","Run 2","Run 1"],"yLabel":"km","series":[{"label":"Distance","data":[4.6765,5.051399999999999,5.0508500000000005,5.24045,8.404639999999999,5.00643,5.05579,8.011899999999999],"color":"#10b981"}]}]}','beginner',20.0,'2026-02-20T03:26:07.078Z','2026-02-20T03:24:31.590Z','2026-02-20 03:24:21','2026-02-20 03:26:07');
CREATE TABLE user_profiles (
        user_id TEXT PRIMARY KEY,
        profile_json TEXT NOT NULL,
        history_summary TEXT,
        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
      );
INSERT INTO user_profiles VALUES('anup','{"persona":{"runner_profile":{"proficiency":"beginner","score":20,"tags":[]}}}',replace('Session has 19 total messages.\nLast analysis: ### üìä Running Progress Analysis\n\n#### Recent Training Pattern\n- **Last 3 Runs**:\n  1. **8.01 km at 5:40 min/km** (easy run)\n  2. **5.06 km at 4:54 min/km** (tempo run)\n  3. **5.01 km at 5:37 min/km** (easy run)\n\n#### Key Observations\n1. **Pacing**: \n   - Your easy runs are averaging around **5:40 min/km to 5:37 min/km**, indicating an effective recovery pace. The tempo run at **4:54 min/km** suggests you have the capacity to sustain faster efforts, showcasing your improving speed and endurance.\n\n2. **Intensity Distribution**: \n   - You are maintaining a good balance between easy runs and t...\nRecent exchange:\nuser: subscribe\nuser: show my progress\nassistant: ### üìä Running Progress Analysis\n\n#### Recent Training Pattern\n- **Last 3 Runs**:\n  1. **8.01 km at 5:40 min/km** (easy run)\n  2. **5.06 km at 4:54 min/km** (tempo run)\n  3. **5...\nuser: show my running plan\n---\nSession has 21 total messages.\nLast analysis: ### üèÉ‚Äç‚ôÇÔ∏è Running Plan Overview\n\nBased on your recent training data and current proficiency level, here''s a suggested running plan to continue building your endurance and speed:\n\n#### Weekly Structure\n1. **Easy Runs**: 2 Days\n   - **Goal**: Recovery and aerobic base building.\n   - **Pace**: Aim for ~5:40 to 6:00 min/km.\n   - **Duration**: 30-45 minutes, targeting distances of 6-8 km.\n\n2. **Tempo Run**: 1 Day\n   - **Goal**: Improve lactate threshold and speed.\n   - **Pace**: Aim for 4:50 to 5:00 min/km.\n   - **Duration**: 20-30 minutes of tempo effort, with a proper warm-up and cool-down.\n\n3...\nRecent exchange:\nassistant: ### üìä Running Progress Analysis\n\n#### Recent Training Pattern\n- **Last 3 Runs**:\n  1. **8.01 km at 5:40 min/km** (easy run)\n  2. **5.06 km at 4:54 min/km** (tempo run)\n  3. **5...\nuser: show my running plan\nassistant: ### üèÉ‚Äç‚ôÇÔ∏è Running Plan Overview\n\nBased on your recent training data and current proficiency level, here''s a suggested running plan to continue building your endurance and speed:...\nuser: Running conditions near me\n---\nSession has 7 total messages.\nLast analysis: Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.\nRecent exchange:\nassistant: ## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing: maintained a consistent average pace of 5:40/km across the run\n- Pacing**: consiste...\nuser: Running conditions near me\nassistant: Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.\nuser: what is Te control\n---\nSession has 7 total messages.\nLast analysis: ## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing across laps, with only slight variations, showing good energy management\n- Pacing**: consistent splits with a slight increase in pace towards the end, showcasing good pacing discipline\n- Pacing was well-executed, especially maintaining a strong effort throughout the run\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- strong average pace of 5**: 40/km, indicating a good level of fitness and endurance\n- **Training effect****: 4.2 - indicates a highly productive session that builds endu...\nRecent exchange:\nassistant: ## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing across laps, with only slight variations, showing good energy management\n- Pacing**:...\nuser: create a half marathon plan\nassistant: Great. What is your target race date (YYYY-MM-DD), and days per week you can run?\nuser: 2026-05-05  3 days per week\n---\nSession has 9 total messages.\nLast analysis: ## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing across laps, with only slight variations, showing good energy management\n- Pacing**: consistent splits with a slight increase in pace towards the end, showcasing good pacing discipline\n- Pacing was well-executed, especially maintaining a strong effort throughout the run\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- strong average pace of 5**: 40/km, indicating a good level of fitness and endurance\n- **Training effect****: 4.2 - indicates a highly productive session that builds endu...\nRecent exchange:\nassistant: Great. What is your target race date (YYYY-MM-DD), and days per week you can run?\nuser: 2026-05-05  3 days per week\nassistant: Here‚Äôs your Half Marathon plan for 2026-05-05. Current phase: base. Focus this week: Incorporate easy runs for recovery. Next run: Easy Run (RPE 3-4)\nuser: subscribe to this plan','\n',char(10)),'2026-02-20 03:24:31');
CREATE TABLE user_profile_history (
        id TEXT PRIMARY KEY,
        user_id TEXT NOT NULL,
        conversation_id TEXT NOT NULL,
        summary_text TEXT NOT NULL,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
      );
INSERT INTO user_profile_history VALUES('b5630992-0947-4d9e-a678-23a42230e2e9','anup','baef7ec5-0fac-4add-aeb2-e43ab99d095f',replace('Session has 7 total messages.\nLast analysis: ### üìä Recent Training Pattern\n- **Last 3 Runs**:\n  1. 8.01 km at 5:40 min/km (easy run)\n  2. 5.06 km at 4:54 min/km (tempo run)\n  3. 5.01 km at 5:37 min/km (easy run)\n- **Intensity Distribution**: The first run was an easy run, the second was a tempo run, and the third was another easy run. The tempo run was a higher intensity effort, while the easy runs were at a comfortable pace.\n- **Spacing**: There is a mix of easy and tempo runs, with the tempo run being the most intense and followed by easy runs, allowing for recovery.\n- **Signs of Fatigue**: No significant signs of fatigue noted, bu...\nRecent exchange:\nassistant: Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.\nuser: Recommend my next run\nassistant: ### üìä Recent Training Pattern\n- **Last 3 Runs**:\n  1. 8.01 km at 5:40 min/km (easy run)\n  2. 5.06 km at 4:54 min/km (tempo run)\n  3. 5.01 km at 5:37 min/km (easy run)\n- **Inten...\nuser: Running conditions near me','\n',char(10)),'2026-02-19 16:32:02');
INSERT INTO user_profile_history VALUES('15098a4f-73d8-4dd0-8051-b8369c28b39d','anup','baef7ec5-0fac-4add-aeb2-e43ab99d095f',replace('Session has 9 total messages.\nLast analysis: Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.\nRecent exchange:\nassistant: ### üìä Recent Training Pattern\n- **Last 3 Runs**:\n  1. 8.01 km at 5:40 min/km (easy run)\n  2. 5.06 km at 4:54 min/km (tempo run)\n  3. 5.01 km at 5:37 min/km (easy run)\n- **Inten...\nuser: Running conditions near me\nassistant: Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.\nuser: Analyze my running progress','\n',char(10)),'2026-02-19 16:34:43');
INSERT INTO user_profile_history VALUES('b096447c-4bd5-4017-923e-01a3b00427a2','anup','baef7ec5-0fac-4add-aeb2-e43ab99d095f',replace('Session has 11 total messages.\nLast analysis: ### üìä Running Progress Analysis\n\n#### Recent Training Pattern\n- **Last 3 Runs**:\n  1. **8.01 km at 5:40 min/km** (easy run)\n  2. **5.06 km at 4:54 min/km** (tempo run)\n  3. **5.01 km at 5:37 min/km** (easy run)\n\n#### Key Observations\n1. **Pacing**: \n   - Your easy runs are averaging around **5:40 min/km** to **5:37 min/km**, which indicates a good pace for recovery. The tempo run at **4:54 min/km** shows you are capable of maintaining a faster pace, reflecting improved speed and stamina.\n\n2. **Intensity Distribution**: \n   - You have a good balance between easy runs and more intense tempo ...\nRecent exchange:\nassistant: Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.\nuser: Analyze my running progress\nassistant: ### üìä Running Progress Analysis\n\n#### Recent Training Pattern\n- **Last 3 Runs**:\n  1. **8.01 km at 5:40 min/km** (easy run)\n  2. **5.06 km at 4:54 min/km** (tempo run)\n  3. **5...\nuser: create a half marathon plan','\n',char(10)),'2026-02-19 16:36:46');
INSERT INTO user_profile_history VALUES('3c7e829c-11c6-4c3a-8ffd-e6f2d0b42d9a','anup','baef7ec5-0fac-4add-aeb2-e43ab99d095f',replace('Session has 13 total messages.\nLast analysis: ### üìä Running Progress Analysis\n\n#### Recent Training Pattern\n- **Last 3 Runs**:\n  1. **8.01 km at 5:40 min/km** (easy run)\n  2. **5.06 km at 4:54 min/km** (tempo run)\n  3. **5.01 km at 5:37 min/km** (easy run)\n\n#### Key Observations\n1. **Pacing**: \n   - Your easy runs are averaging around **5:40 min/km** to **5:37 min/km**, which indicates a good pace for recovery. The tempo run at **4:54 min/km** shows you are capable of maintaining a faster pace, reflecting improved speed and stamina.\n\n2. **Intensity Distribution**: \n   - You have a good balance between easy runs and more intense tempo ...\nRecent exchange:\nassistant: ### üìä Running Progress Analysis\n\n#### Recent Training Pattern\n- **Last 3 Runs**:\n  1. **8.01 km at 5:40 min/km** (easy run)\n  2. **5.06 km at 4:54 min/km** (tempo run)\n  3. **5...\nuser: create a half marathon plan\nassistant: Great. What is your target race date (YYYY-MM-DD), and days per week you can run?\nuser: 2026-05-05 , 3 days a week','\n',char(10)),'2026-02-19 16:37:10');
INSERT INTO user_profile_history VALUES('e61b5f7c-b5c1-42cd-afbf-b9d5db79567b','anup','baef7ec5-0fac-4add-aeb2-e43ab99d095f',replace('Session has 15 total messages.\nLast analysis: ### üìä Running Progress Analysis\n\n#### Recent Training Pattern\n- **Last 3 Runs**:\n  1. **8.01 km at 5:40 min/km** (easy run)\n  2. **5.06 km at 4:54 min/km** (tempo run)\n  3. **5.01 km at 5:37 min/km** (easy run)\n\n#### Key Observations\n1. **Pacing**: \n   - Your easy runs are averaging around **5:40 min/km** to **5:37 min/km**, which indicates a good pace for recovery. The tempo run at **4:54 min/km** shows you are capable of maintaining a faster pace, reflecting improved speed and stamina.\n\n2. **Intensity Distribution**: \n   - You have a good balance between easy runs and more intense tempo ...\nRecent exchange:\nassistant: Great. What is your target race date (YYYY-MM-DD), and days per week you can run?\nuser: 2026-05-05 , 3 days a week\nassistant: Here‚Äôs your Half Marathon plan for 2026-05-05. Current phase: base. Focus this week: Incorporate easy runs for recovery. Next run: Easy Run (RPE 3-4)\nuser: subscribe','\n',char(10)),'2026-02-19 16:38:13');
INSERT INTO user_profile_history VALUES('2018367e-ad86-4a22-93f3-3978a39c2584','anup','baef7ec5-0fac-4add-aeb2-e43ab99d095f',replace('Session has 17 total messages.\nLast analysis: ### üìä Running Progress Analysis\n\n#### Recent Training Pattern\n- **Last 3 Runs**:\n  1. **8.01 km at 5:40 min/km** (easy run)\n  2. **5.06 km at 4:54 min/km** (tempo run)\n  3. **5.01 km at 5:37 min/km** (easy run)\n\n#### Key Observations\n1. **Pacing**: \n   - Your easy runs are averaging around **5:40 min/km** to **5:37 min/km**, which indicates a good pace for recovery. The tempo run at **4:54 min/km** shows you are capable of maintaining a faster pace, reflecting improved speed and stamina.\n\n2. **Intensity Distribution**: \n   - You have a good balance between easy runs and more intense tempo ...\nRecent exchange:\nassistant: Here‚Äôs your Half Marathon plan for 2026-05-05. Current phase: base. Focus this week: Incorporate easy runs for recovery. Next run: Easy Run (RPE 3-4)\nassistant: You‚Äôre all set. Tracking is enabled for your plan.\nuser: subscribe\nuser: show my progress','\n',char(10)),'2026-02-19 16:38:39');
INSERT INTO user_profile_history VALUES('29e5d753-9526-46c3-a9b4-e90718ca93fb','anup','baef7ec5-0fac-4add-aeb2-e43ab99d095f',replace('Session has 19 total messages.\nLast analysis: ### üìä Running Progress Analysis\n\n#### Recent Training Pattern\n- **Last 3 Runs**:\n  1. **8.01 km at 5:40 min/km** (easy run)\n  2. **5.06 km at 4:54 min/km** (tempo run)\n  3. **5.01 km at 5:37 min/km** (easy run)\n\n#### Key Observations\n1. **Pacing**: \n   - Your easy runs are averaging around **5:40 min/km to 5:37 min/km**, indicating an effective recovery pace. The tempo run at **4:54 min/km** suggests you have the capacity to sustain faster efforts, showcasing your improving speed and endurance.\n\n2. **Intensity Distribution**: \n   - You are maintaining a good balance between easy runs and t...\nRecent exchange:\nuser: subscribe\nuser: show my progress\nassistant: ### üìä Running Progress Analysis\n\n#### Recent Training Pattern\n- **Last 3 Runs**:\n  1. **8.01 km at 5:40 min/km** (easy run)\n  2. **5.06 km at 4:54 min/km** (tempo run)\n  3. **5...\nuser: show my running plan','\n',char(10)),'2026-02-19 16:38:54');
INSERT INTO user_profile_history VALUES('aa52dbdd-4ecd-421d-bf08-692749afcd54','anup','baef7ec5-0fac-4add-aeb2-e43ab99d095f',replace('Session has 21 total messages.\nLast analysis: ### üèÉ‚Äç‚ôÇÔ∏è Running Plan Overview\n\nBased on your recent training data and current proficiency level, here''s a suggested running plan to continue building your endurance and speed:\n\n#### Weekly Structure\n1. **Easy Runs**: 2 Days\n   - **Goal**: Recovery and aerobic base building.\n   - **Pace**: Aim for ~5:40 to 6:00 min/km.\n   - **Duration**: 30-45 minutes, targeting distances of 6-8 km.\n\n2. **Tempo Run**: 1 Day\n   - **Goal**: Improve lactate threshold and speed.\n   - **Pace**: Aim for 4:50 to 5:00 min/km.\n   - **Duration**: 20-30 minutes of tempo effort, with a proper warm-up and cool-down.\n\n3...\nRecent exchange:\nassistant: ### üìä Running Progress Analysis\n\n#### Recent Training Pattern\n- **Last 3 Runs**:\n  1. **8.01 km at 5:40 min/km** (easy run)\n  2. **5.06 km at 4:54 min/km** (tempo run)\n  3. **5...\nuser: show my running plan\nassistant: ### üèÉ‚Äç‚ôÇÔ∏è Running Plan Overview\n\nBased on your recent training data and current proficiency level, here''s a suggested running plan to continue building your endurance and speed:...\nuser: Running conditions near me','\n',char(10)),'2026-02-19 16:39:43');
INSERT INTO user_profile_history VALUES('ac7104b9-64c2-4837-94c6-d7dbf880ed6d','anup','c3aeb20e-6985-41af-9c0c-9184883bb727',replace('Session has 7 total messages.\nLast analysis: Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.\nRecent exchange:\nassistant: ## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing: maintained a consistent average pace of 5:40/km across the run\n- Pacing**: consiste...\nuser: Running conditions near me\nassistant: Mixed running conditions expected over the next few hours. Consider a shorter run or adjust pace based on comfort.\nuser: what is Te control','\n',char(10)),'2026-02-19 16:45:46');
INSERT INTO user_profile_history VALUES('c23a9f88-2603-4907-b0b5-c52ae0470adf','anup','f9c6a9d0-e134-4173-ba0f-46f2fc2e3c1f',replace('Session has 7 total messages.\nLast analysis: ## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing across laps, with only slight variations, showing good energy management\n- Pacing**: consistent splits with a slight increase in pace towards the end, showcasing good pacing discipline\n- Pacing was well-executed, especially maintaining a strong effort throughout the run\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- strong average pace of 5**: 40/km, indicating a good level of fitness and endurance\n- **Training effect****: 4.2 - indicates a highly productive session that builds endu...\nRecent exchange:\nassistant: ## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing across laps, with only slight variations, showing good energy management\n- Pacing**:...\nuser: create a half marathon plan\nassistant: Great. What is your target race date (YYYY-MM-DD), and days per week you can run?\nuser: 2026-05-05  3 days per week','\n',char(10)),'2026-02-20 03:08:09');
INSERT INTO user_profile_history VALUES('f5a60dd9-884d-4f3d-af7f-908866f664df','anup','f9c6a9d0-e134-4173-ba0f-46f2fc2e3c1f',replace('Session has 9 total messages.\nLast analysis: ## üìä Run Summary\n8.01km in 45:31 (N/A/km avg) - solid training run\n\n## ‚úÖ Strengths\n- Pacing across laps, with only slight variations, showing good energy management\n- Pacing**: consistent splits with a slight increase in pace towards the end, showcasing good pacing discipline\n- Pacing was well-executed, especially maintaining a strong effort throughout the run\n\n## üéØ Key Metrics\n- **Te-effort training run\n\n## ‚úÖ strengths\n- strong average pace of 5**: 40/km, indicating a good level of fitness and endurance\n- **Training effect****: 4.2 - indicates a highly productive session that builds endu...\nRecent exchange:\nassistant: Great. What is your target race date (YYYY-MM-DD), and days per week you can run?\nuser: 2026-05-05  3 days per week\nassistant: Here‚Äôs your Half Marathon plan for 2026-05-05. Current phase: base. Focus this week: Incorporate easy runs for recovery. Next run: Easy Run (RPE 3-4)\nuser: subscribe to this plan','\n',char(10)),'2026-02-20 03:08:29');
CREATE TABLE training_plan_weeks (
        id TEXT PRIMARY KEY,
        plan_id TEXT NOT NULL,
        week_start DATE NOT NULL,
        week_end DATE NOT NULL,
        focus_summary TEXT,
        target_volume TEXT,
        target_intensity_mix TEXT,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        FOREIGN KEY (plan_id) REFERENCES training_plans(id) ON DELETE CASCADE
      );
INSERT INTO training_plan_weeks VALUES('9877fdfb-ff24-4e8a-9fcd-ec133deb3135','ab199399-27fe-4527-8e4e-3efd8cdcff90','2026-02-16','2026-02-22','Incorporate easy runs for recovery',NULL,NULL,'2026-02-19 16:37:20');
INSERT INTO training_plan_weeks VALUES('83a871ba-bc28-46ee-a55a-f45040232b5b','74814d5b-75e2-4de2-a835-f0531006fae9','2026-02-16','2026-02-22','Incorporate easy runs for recovery',NULL,NULL,'2026-02-20 03:08:20');
CREATE TABLE training_plan_workouts (
        id TEXT PRIMARY KEY,
        plan_id TEXT NOT NULL,
        week_id TEXT NOT NULL,
        scheduled_date DATE NOT NULL,
        name TEXT NOT NULL,
        type TEXT NOT NULL,
        structure_json TEXT NOT NULL,
        targets_json TEXT NOT NULL,
        rationale TEXT,
        coach_cues_json TEXT,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        FOREIGN KEY (plan_id) REFERENCES training_plans(id) ON DELETE CASCADE,
        FOREIGN KEY (week_id) REFERENCES training_plan_weeks(id) ON DELETE CASCADE
      );
INSERT INTO training_plan_workouts VALUES('4fe444af-c89a-4930-bb59-67cb2a6d1f4d','ab199399-27fe-4527-8e4e-3efd8cdcff90','9877fdfb-ff24-4e8a-9fcd-ec133deb3135','2026-02-16','Easy Run','easy','{}','{"rpe":"3-4"}','Focus on recovery and maintaining a conversational pace.','[]','2026-02-19 16:37:20');
INSERT INTO training_plan_workouts VALUES('daf1fd91-b8ba-4c89-b558-51471146e6c2','ab199399-27fe-4527-8e4e-3efd8cdcff90','9877fdfb-ff24-4e8a-9fcd-ec133deb3135','2026-02-18','Tempo Run','tempo','{}','{"rpe":"3-4"}','Incorporate a faster pace to build speed.','[]','2026-02-19 16:37:20');
INSERT INTO training_plan_workouts VALUES('3c98e010-966e-473c-9ec4-1d36725e238f','ab199399-27fe-4527-8e4e-3efd8cdcff90','9877fdfb-ff24-4e8a-9fcd-ec133deb3135','2026-02-20','Easy Run','easy','{}','{"rpe":"3-4"}','Focus on recovery and maintaining a conversational pace.','[]','2026-02-19 16:37:20');
INSERT INTO training_plan_workouts VALUES('12cd55cd-fd97-4615-a8e7-39d86b5e7a81','74814d5b-75e2-4de2-a835-f0531006fae9','83a871ba-bc28-46ee-a55a-f45040232b5b','2026-02-16','Easy Run','easy','{}','{"rpe":"3-4"}','Recovery and aerobic base building','[]','2026-02-20 03:08:20');
INSERT INTO training_plan_workouts VALUES('40651ff5-b6eb-4713-9604-6cd89d9d8c02','74814d5b-75e2-4de2-a835-f0531006fae9','83a871ba-bc28-46ee-a55a-f45040232b5b','2026-02-18','Tempo Run','tempo','{}','{"rpe":"3-4"}','Improve lactate threshold and speed','[]','2026-02-20 03:08:20');
INSERT INTO training_plan_workouts VALUES('75758a82-5039-4064-a672-72c35d47c83d','74814d5b-75e2-4de2-a835-f0531006fae9','83a871ba-bc28-46ee-a55a-f45040232b5b','2026-02-20','Easy Run','easy','{}','{"rpe":"3-4"}','Recovery and aerobic base building','[]','2026-02-20 03:08:20');
CREATE TABLE training_plan_executions (
        id TEXT PRIMARY KEY,
        workout_id TEXT NOT NULL,
        completion_status TEXT NOT NULL,
        actual_metrics_json TEXT,
        feedback_json TEXT,
        adherence_score INTEGER,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        FOREIGN KEY (workout_id) REFERENCES training_plan_workouts(id) ON DELETE CASCADE
      );
CREATE TABLE training_plan_adaptations (
        id TEXT PRIMARY KEY,
        plan_id TEXT NOT NULL,
        change_summary TEXT NOT NULL,
        reason TEXT,
        impacted_workouts_json TEXT,
        delta_json TEXT,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        FOREIGN KEY (plan_id) REFERENCES training_plans(id) ON DELETE CASCADE
      );
CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_users_garmin_id ON users(garmin_user_id);
CREATE INDEX idx_run_activities_user_date 
    ON run_activities(user_id, activity_date DESC);
CREATE INDEX idx_run_activities_garmin_id 
    ON run_activities(garmin_activity_id);
CREATE INDEX idx_run_activities_run_type 
    ON run_activities(run_type);
CREATE INDEX idx_fitness_snapshots_user_date 
    ON fitness_metric_snapshots(user_id, snapshot_date DESC);
CREATE INDEX idx_analysis_reports_user_date 
    ON analysis_reports(user_id, analysis_date DESC);
CREATE INDEX idx_analysis_reports_activity 
    ON analysis_reports(activity_id);
CREATE INDEX idx_analysis_reports_type 
    ON analysis_reports(report_type);
CREATE INDEX idx_training_plans_user_status 
    ON training_plans(user_id, status);
CREATE INDEX idx_training_plans_goal_date 
    ON training_plans(goal_date);
CREATE INDEX idx_agent_logs_report 
    ON agent_execution_logs(report_id);
CREATE INDEX idx_agent_logs_agent_name 
    ON agent_execution_logs(agent_name);
CREATE INDEX idx_agent_logs_status 
    ON agent_execution_logs(status);
CREATE INDEX idx_agent_logs_execution_start 
    ON agent_execution_logs(execution_start DESC);
CREATE INDEX idx_conversation_messages_conversation
    ON conversation_messages(conversation_id, created_at DESC);
CREATE INDEX idx_analysis_cache_conversation
    ON analysis_cache(conversation_id, created_at DESC);
CREATE TRIGGER update_users_timestamp 
    AFTER UPDATE ON users
    FOR EACH ROW
    BEGIN
        UPDATE users SET updated_at = CURRENT_TIMESTAMP WHERE id = NEW.id;
    END;
CREATE TRIGGER update_training_plans_timestamp 
    AFTER UPDATE ON training_plans
    FOR EACH ROW
    BEGIN
        UPDATE training_plans SET updated_at = CURRENT_TIMESTAMP WHERE id = NEW.id;
    END;
CREATE VIEW v_recent_activities AS
SELECT 
    ra.*,
    u.email as user_email
FROM run_activities ra
JOIN users u ON ra.user_id = u.id
ORDER BY ra.activity_date DESC;
CREATE VIEW v_active_training_plans AS
SELECT 
    tp.*,
    u.email as user_email
FROM training_plans tp
JOIN users u ON tp.user_id = u.id
WHERE tp.status = 'active'
ORDER BY tp.goal_date ASC;
CREATE VIEW v_latest_fitness_metrics AS
SELECT 
    fms.*,
    u.email as user_email
FROM fitness_metric_snapshots fms
JOIN users u ON fms.user_id = u.id
WHERE fms.snapshot_date = (
    SELECT MAX(snapshot_date) 
    FROM fitness_metric_snapshots 
    WHERE user_id = fms.user_id
);
CREATE INDEX idx_persona_profiles_updated
        ON persona_profiles(updated_at DESC);
CREATE INDEX idx_user_profile_history_user
        ON user_profile_history(user_id, created_at DESC);
CREATE INDEX idx_training_plan_weeks_plan
        ON training_plan_weeks(plan_id, week_start DESC);
CREATE INDEX idx_training_plan_workouts_plan
        ON training_plan_workouts(plan_id, scheduled_date ASC);
CREATE INDEX idx_training_plan_workouts_week
        ON training_plan_workouts(week_id, scheduled_date ASC);
COMMIT;
